System.register(["jimu-core","jimu-ui/advanced/chart","jimu-theme","jimu-ui"],(function(e,t){var l={},a={},r={},o={};return{setters:[function(e){l.BaseVersionManager=e.BaseVersionManager,l.DataRecordsSelectionChangeMessage=e.DataRecordsSelectionChangeMessage,l.DataSourceComponent=e.DataSourceComponent,l.DataSourceManager=e.DataSourceManager,l.DataSourceStatus=e.DataSourceStatus,l.DataSourceTypes=e.DataSourceTypes,l.Immutable=e.Immutable,l.MessageManager=e.MessageManager,l.React=e.React,l.ReactRedux=e.ReactRedux,l.appConfigUtils=e.appConfigUtils,l.classNames=e.classNames,l.css=e.css,l.dataSourceUtils=e.dataSourceUtils,l.defaultMessages=e.defaultMessages,l.getAppStore=e.getAppStore,l.jsx=e.jsx,l.lodash=e.lodash,l.useIntl=e.useIntl},function(e){a.ActionModes=e.ActionModes,a.BarChart=e.BarChart,a.Histogram=e.Histogram,a.LineChart=e.LineChart,a.PieChart=e.PieChart,a.RESTFontDecoration=e.RESTFontDecoration,a.RESTFontStyle=e.RESTFontStyle,a.RESTFontWeight=e.RESTFontWeight,a.RESTHorizontalAlignment=e.RESTHorizontalAlignment,a.RESTSimpleFillSymbolStyle=e.RESTSimpleFillSymbolStyle,a.RESTSimpleLineSymbolStyle=e.RESTSimpleLineSymbolStyle,a.RESTSimpleMarkerSymbolStyle=e.RESTSimpleMarkerSymbolStyle,a.RESTSymbolType=e.RESTSymbolType,a.ScatterPlot=e.ScatterPlot,a.SelectionSource=e.SelectionSource,a.WebChartSortOrderKinds=e.WebChartSortOrderKinds,a.WebChartTypes=e.WebChartTypes,a.getSeriesType=e.getSeriesType,a.processInlineHistogramRawData=e.processInlineHistogramRawData},function(e){r.styled=e.styled},function(e){o.Alert=e.Alert,o.Button=e.Button,o.DataActionDropDown=e.DataActionDropDown,o.Loading=e.Loading,o.Tooltip=e.Tooltip,o.WidgetPlaceholder=e.WidgetPlaceholder,o.defaultMessages=e.defaultMessages,o.hooks=e.hooks}],execute:function(){e((()=>{var e={27691:e=>{e.exports='<svg viewBox="0 0 400 400" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="#A8A8A8" d="M24 83v-8h16v8zM24 144v-8h16v8zM24 204v-8h16v8zM24 266v-8h16v8zM24 327v-8h16v8zM135 376v-8h24v8zM85 376v-8h24v8zM33 376v-8h24v8zM185 376v-8h24v8zM237 376v-8h24v8zM289 376v-8h24v8zM341 376v-8h24v8z"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M376 354.501v.999h-24.5v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-22h.998v327.001H376Z" fill="#A8A8A8"></path><path fill-rule="evenodd" clip-rule="evenodd" d="m147.167 236-51.084-28.5L45 249.5v44.327l50.736-46.4 50.993 28.948 50.248-51.169 51.871 37.843 50.53-64.932L351 233.016V179l-50.583-28.5-51.083 62-52.085-59-50.082 82.5ZM45 342.974v-42.366l51.43-47.035 51.175 29.052 49.915-50.83 52.3 38.156 50.635-65.068L351 239.055v42.443l-51.842-19.97-50.382 59.265-51.552-29.694-50.52 30.263-51.11-10.005L45 342.974Zm0 5.899v5.627h306v-67.643l-50.325-19.385-50.783 59.735-52.618-30.306-49.644 29.737-51.057-9.995L45 348.873Z" fill="#A8A8A8"></path></svg>'},63155:e=>{e.exports='<svg viewBox="0 0 400 400" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="#000" d="M326 58v12H45V58zM258.473 73v12H45V73zM204.015 88v12H45V88zM159 119v12H45v-12zM131.605 134v12H45v-12zM109.512 149v12H45v-12zM195 180v12H45v-12zM158.953 195v12H45v-12zM129.884 210v12H45v-12zM245 241v12H45v-12zM196.938 256v12H45v-12zM158.178 271v12H45v-12zM174 302v12H45v-12zM143 317v12H45v-12zM118 332v12H45v-12zM24 83v-8h16v8zM24 144v-8h16v8zM24 204v-8h16v8zM24 266v-8h16v8zM24 327v-8h16v8zM135 376v-8h24v8zM85 376v-8h24v8zM33 376v-8h24v8zM185 376v-8h24v8zM237 376v-8h24v8zM289 376v-8h24v8zM341 376v-8h24v8z"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M376 354.501v.999h-75.5v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-22h.998v327.001H376Zm-24.5.999v4h-1v-4h1Z" fill="#000"></path></svg>'},46986:e=>{e.exports='<svg viewBox="0 0 400 400" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="#000" d="M24 107v-8h16v8zM24 56v-8h16v8zM24 158v-8h16v8zM24 209v-8h16v8zM24 261v-8h16v8zM24 311v-8h16v8zM24 362v-8h16v8zM128 376v-8h24v8zM72 376v-8h24v8zM189 376v-8h24v8zM250 376v-8h24v8zM311 376v-8h24v8zM58 77h12v281H58zM73 144.527h12V358H73zM88 198.984h12V358H88zM119 244h12v114h-12zM134 271.395h12V358h-12zM149 293.488h12V358h-12zM180 208h12v150h-12zM195 244.046h12v113.953h-12zM210 273.116h12V358h-12zM241 158h12v200h-12zM256 206.062h12V358h-12zM271 244.822h12V358h-12zM302 229h12v129h-12zM317 260h12v98h-12zM332 285h12v73h-12z"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M49 24h-1v28h-4v1h4v50h-4v1h4v50h-4v1h4v50h-4v1h4v50h-4v1h4v50h-4v1h4v50h-4v1h4v4h1v-4h60v4h1v-4h60v4h1v-4h60v4h1v-4h60v4h1v-4h60v4h1v-4h22v-.998H49V24Z" fill="#000"></path></svg>'},40021:e=>{e.exports='<svg viewBox="0 0 400 400" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M200 353.81c40.414 0 77.188-15.587 104.637-41.077l-45.849-45.848c-15.683 13.796-36.258 22.163-58.788 22.163-49.18 0-89.048-39.868-89.048-89.048 0-46.451 35.567-84.595 80.953-88.685V46.4C110.721 50.61 46.191 117.769 46.191 200c0 84.947 68.862 153.81 153.809 153.81Zm153.6-145.715c-1.842 35.533-15.744 67.876-37.69 93.014l-45.977-45.977c10.401-13.176 17.159-29.361 18.752-47.037H353.6Zm.209-7.956.001-.139-.001-.139v.278Zm-.209-8.234C349.53 113.402 286.598 50.47 208.095 46.4v64.915c42.72 3.85 76.74 37.87 80.59 80.59H353.6Zm-80.743 7.944c-.081-40.168-32.669-72.706-72.857-72.706-40.238 0-72.857 32.619-72.857 72.857s32.619 72.857 72.857 72.857c40.188 0 72.776-32.538 72.857-72.706v-.302ZM200 370c93.888 0 170-76.112 170-170S293.888 30 200 30 30 106.112 30 200s76.112 170 170 170Z" fill="#A8A8A8"></path></svg>'},80948:e=>{e.exports='<svg viewBox="0 0 400 400" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)" fill="#000"><path d="M24 83v-8h16v8zM24 144v-8h16v8zM24 204v-8h16v8zM24 266v-8h16v8zM24 327v-8h16v8zM135 376v-8h24v8zM85 376v-8h24v8zM33 376v-8h24v8zM185 376v-8h24v8zM237 376v-8h24v8zM289 376v-8h24v8zM341 376v-8h24v8z"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M376 354.001V355h-24.5v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4V50h-4v-1h4V27h.998v327.001H376Z"></path><path d="M197 88h28v14.518c-1.189-1.824-2.373-3.297-3.596-4.47C217.929 94.719 214.353 94 210.5 94c-4.416 0-8.372.968-12.177 4.463-.445.409-.886.85-1.323 1.326V88Z"></path><path d="M217.252 102.38c2.15 2.06 4.569 5.915 7.748 13.241V355h-28V110.243c1.978-3.525 3.724-5.839 5.382-7.362 2.422-2.224 4.783-2.881 8.118-2.881 2.897 0 4.758.469 6.752 2.38ZM139 185h23.469c-2.319 6.846-4.803 14.204-7.472 22.11l-2.339 6.93c-4.225 12.512-8.819 23.915-13.658 34.3V185ZM158.342 215.96c-5.845 17.31-12.397 32.564-19.342 45.985V355h28V190.329a31167.84 31167.84 0 0 0-6.479 19.176l-.001.003-2.178 6.452ZM254 200.519c-4.784-14.9-8.89-27.635-12.463-38.519H226v193h28V200.519ZM247.852 162A4704.53 4704.53 0 0 1 254 180.929V162h-6.148ZM255 229h8.497c4.771 12.412 11.402 26.515 19.503 40.651V355h-28V229ZM269.937 229c3.476 8.784 7.878 18.388 13.063 28.208V229h-13.063ZM284 279h4.576a284.47 284.47 0 0 0 11.937 17.746A237.642 237.642 0 0 0 312 311.29V355h-28v-76ZM305.359 293.208a241.991 241.991 0 0 0 6.641 8.683V279h-16.335a274.824 274.824 0 0 0 9.694 14.208ZM138 309h-28v46h28v-46ZM109 338H81v17h28v-17ZM196 214h-28v141h28V214ZM313 343h28v12h-28v-12Z"></path><path d="m158.214 208.523.006-.018c16.331-48.374 25.668-76.032 32.719-91.675 3.685-8.177 6.718-13.003 9.752-15.79 2.998-2.753 6.024-3.54 9.809-3.54 3.295 0 5.871.573 8.482 3.076 2.655 2.544 5.374 7.109 8.809 15.211 6.821 16.084 16.359 45.825 33.898 100.515l.001.002.348 1.084c6.953 21.681 22.476 53.045 42.705 80.432 20.215 27.367 45.212 50.876 71.148 56.668l.218-.976c-25.564-5.708-50.375-28.957-70.561-56.286-20.171-27.307-35.641-58.575-42.558-80.143l-.385-1.2c-17.507-54.588-27.055-84.36-33.893-100.486-3.441-8.115-6.224-12.846-9.038-15.543-2.858-2.74-5.719-3.354-9.174-3.354-3.965 0-7.257.838-10.485 3.804-3.192 2.932-6.293 7.918-9.988 16.116-7.071 15.688-16.422 43.386-32.726 91.684l-2.275 6.736c-31.261 92.582-87.728 130.231-110.202 138.692l.352.936c22.77-8.573 79.446-46.458 110.798-139.308l2.24-6.637Z"></path></g><defs><clipPath id="a"><path fill="#fff" transform="translate(24 27)" d="M0 0h352v349H0z"></path></clipPath></defs></svg>'},52760:e=>{e.exports='<svg viewBox="0 0 400 400" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="#A8A8A8" d="M24 83v-8h16v8zM24 144v-8h16v8zM24 204v-8h16v8zM24 266v-8h16v8zM24 327v-8h16v8zM135 376v-8h24v8zM85 376v-8h24v8zM33 376v-8h24v8zM185 376v-8h24v8zM237 376v-8h24v8zM289 376v-8h24v8zM341 376v-8h24v8z"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M376 354.501v.999h-24.5v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-22h.998v327.001H376Z" fill="#A8A8A8"></path><path fill-rule="evenodd" clip-rule="evenodd" d="m299.88 232.358 50.866 28.707-.492.87-50.134-28.293-51.107 62.129-51.938-58.93-49.898 82.331-51.046-28.526-50.736 65.161-.79-.614 51.264-65.839 50.954 28.474 50.102-82.669 52.062 59.07 50.893-61.871Z" fill="#A8A8A8"></path><circle cx="96" cy="290" r="3" fill="#A8A8A8"></circle><circle cx="45" cy="355" r="3" fill="#A8A8A8"></circle><circle cx="147" cy="318" r="3" fill="#A8A8A8"></circle><circle cx="197" cy="236" r="3" fill="#A8A8A8"></circle><circle cx="249" cy="295" r="3" fill="#A8A8A8"></circle><circle cx="300" cy="234" r="3" fill="#A8A8A8"></circle><circle cx="351" cy="262" r="3" fill="#A8A8A8"></circle><path fill-rule="evenodd" clip-rule="evenodd" d="m196.827 194.391 52.206 21.083 50.998-13.5 50.653 20.061-.368.93-50.347-19.94-51.002 13.501-51.794-20.917-50.083 68.113-50.937-41.948-50.712 94.961-.882-.471 51.288-96.038 51.063 42.052 49.917-67.887Z" fill="#A8A8A8"></path><circle cx="96" cy="221" r="3" fill="#A8A8A8"></circle><circle cx="45" cy="316" r="3" fill="#A8A8A8"></circle><circle cx="147" cy="262" r="3" fill="#A8A8A8"></circle><circle cx="197" cy="195" r="3" fill="#A8A8A8"></circle><circle cx="249" cy="216" r="3" fill="#A8A8A8"></circle><circle cx="300" cy="202" r="3" fill="#A8A8A8"></circle><circle cx="351" cy="223" r="3" fill="#A8A8A8"></circle><path fill-rule="evenodd" clip-rule="evenodd" d="m350.81 117.892-50.581 40.065-51.304 13.58-51.791-30.875-50.044 68.06-50.983-41.986-50.693 75.044-.828-.56 51.308-75.955 51.016 42.013 49.956-67.94 52.209 31.125 50.696-13.42 50.419-39.935.62.784Z" fill="#A8A8A8"></path><circle cx="96" cy="166" r="3" fill="#A8A8A8"></circle><circle cx="45" cy="241" r="3" fill="#A8A8A8"></circle><circle cx="147" cy="207" r="3" fill="#A8A8A8"></circle><circle cx="197" cy="140" r="3" fill="#A8A8A8"></circle><circle cx="249" cy="171" r="3" fill="#A8A8A8"></circle><circle cx="300" cy="157" r="3" fill="#A8A8A8"></circle><circle cx="351" cy="118" r="3" fill="#A8A8A8"></circle></svg>'},29174:e=>{e.exports='<svg viewBox="0 0 400 400" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="m191.995 203.185 120.501 124.388C282.524 353.981 243.18 370 200.095 370 106.154 370 30 293.846 30 199.905 30 108.68 101.815 34.228 191.995 30v173.185ZM370 208.005c-1.961 41.827-19.029 79.703-45.87 108.295L219.219 208.005H370ZM208.194 30C295.69 34.102 365.898 104.31 370 191.806H208.194V30Z" fill="#A8A8A8"></path></svg>'},90541:e=>{e.exports='<svg viewBox="0 0 400 400" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M376 354.501v.999h-24.5v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-22h.998v327.001H376ZM24 75v8h16v-8H24Zm0 61v8h16v-8H24Zm0 68v-8h16v8H24Zm0 54v8h16v-8H24Zm0 69v-8h16v8H24Zm9 49v-8h24v8H33Zm52-8v8h24v-8H85Zm50 0v8h24v-8h-24Zm50 0v8h24v-8h-24Zm52 8v-8h24v8h-24Zm52-8v8h24v-8h-24Zm52 8v-8h24v8h-24Zm6-287a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm-48 14a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm-31 38a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm-113 44a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm30 25a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm-58 40a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm-30 42a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm38 4a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm45-30a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm41-36a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm-13-58a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm61 1a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm38-30a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm40-16a8 8 0 1 1-16 0 8 8 0 0 1 16 0Z" fill="#525252"></path></svg>'},62859:e=>{e.exports='<svg viewBox="0 0 400 400" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="#A8A8A8" d="M24 83v-8h16v8zM24 144v-8h16v8zM24 204v-8h16v8zM24 266v-8h16v8zM24 327v-8h16v8zM135 376v-8h24v8zM85 376v-8h24v8zM33 376v-8h24v8zM185 376v-8h24v8zM237 376v-8h24v8zM289 376v-8h24v8zM341 376v-8h24v8z"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M376 354.501v.999h-24.5v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-22h.998v327.001H376Z" fill="#A8A8A8"></path><path fill-rule="evenodd" clip-rule="evenodd" d="m118.545 220.032-2.213-1.235a34 34 0 0 0-38.159 3.428L45 249.5v30.214c3.984-4.618 8.656-9.198 13.805-12.99 10.634-7.83 23.84-12.646 37.238-6.496 29.564 13.57 53.981 5.763 68.251-7.556 7.503-7.003 18.521-16.771 31.068-22.333 12.659-5.611 27.171-7.046 41.113 3.142 12.934 9.452 27.929 18.766 42.113 23.392 14.211 4.636 26.946 4.382 36.213-4.207 10.919-10.12 24.971-18.293 36.199-23.742V179l-25.766-14.517c-14.358-8.09-32.45-4.718-42.93 8.001l-9.791 11.883c-12.163 14.762-34.644 15.145-47.303.806-13.874-15.716-39.007-13.477-49.885 4.443l-11.151 18.367c-9.492 15.637-29.654 20.961-45.629 12.049ZM45 330.81v-43.161c4.46-5.852 10.235-12.086 16.77-16.899 9.974-7.344 21.185-11.028 32.187-5.978 31.436 14.43 58.019 6.236 73.749-8.444 7.497-6.997 17.979-16.229 29.682-21.418 11.591-5.138 24.079-6.203 36.137 2.608 13.066 9.549 28.571 19.235 43.512 24.109 14.914 4.864 29.929 5.118 41.162-5.294 9.791-9.074 22.321-16.579 32.801-21.834v58.189c-20.957 1.026-60.451 6.532-94.59 23.062-11.627 5.63-20.788 7.612-28.256 7.407-7.43-.204-13.377-2.577-18.596-5.998-5.075-3.326-9.417-7.604-13.815-11.936l-.544-.536c-4.499-4.429-9.142-8.934-14.494-11.877-2.913-1.603-5.764-2.165-8.579-1.826-2.765.333-5.3 1.511-7.66 3.058-2.354 1.542-4.663 3.539-6.965 5.644-.841.769-1.675 1.547-2.515 2.33l-.002.002c-1.514 1.412-3.05 2.845-4.697 4.292-5.061 4.447-10.666 8.565-17.579 10.7-6.854 2.116-15.212 2.347-25.886-1.371-18.507-6.446-34.021-3.557-45.85 2.755C54.5 321.849 49.149 326.317 45 330.81Zm0 7.804V354.5h306v-56.807c-20.516 1.032-59.158 6.456-92.41 22.557-12.123 5.87-22.087 8.138-30.573 7.905-8.522-.233-15.357-2.984-21.2-6.814-5.502-3.606-10.165-8.202-14.477-12.452l-.181-.178-.468-.461c-4.578-4.508-8.748-8.503-13.396-11.059-2.087-1.148-3.893-1.445-5.571-1.243-1.73.208-3.527.971-5.518 2.276-1.997 1.309-4.059 3.074-6.33 5.151-.768.702-1.568 1.448-2.394 2.218l-.002.002c-1.554 1.449-3.198 2.982-4.892 4.47-5.251 4.615-11.49 9.278-19.405 11.722-7.974 2.462-17.429 2.606-29.005-1.426-17.093-5.954-31.162-3.26-41.85 2.445-8.095 4.319-14.281 10.386-18.328 15.808Z" fill="#A8A8A8"></path></svg>'},27118:e=>{e.exports='<svg viewBox="0 0 400 400" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="#A8A8A8" d="M24 83v-8h16v8zM24 144v-8h16v8zM24 204v-8h16v8zM24 266v-8h16v8zM24 327v-8h16v8zM135 376v-8h24v8zM85 376v-8h24v8zM33 376v-8h24v8zM185 376v-8h24v8zM237 376v-8h24v8zM289 376v-8h24v8zM341 376v-8h24v8z"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M376 354.501v.999h-24.5v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-22h.998v327.001H376Z" fill="#A8A8A8"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M326.792 248.694c-15.426-8.706-34.876-5.079-46.128 8.6l-8.137 9.892c-12.332 14.991-35.153 15.38-47.987.817-13.619-15.452-38.319-13.253-48.994 4.361l-12.091 19.95c-9.081 14.984-28.398 20.085-43.693 11.538-13.593-7.597-30.696-4.133-40.263 8.154l-34.104 43.801-.79-.614 34.105-43.802c9.87-12.676 27.516-16.249 41.54-8.412 14.825 8.284 33.548 3.34 42.35-11.183l12.09-19.95c11.026-18.191 36.535-20.462 50.6-4.504 12.427 14.1 34.524 13.724 46.464-.791l8.137-9.892c11.561-14.055 31.544-17.78 47.392-8.836l23.463 13.242-.492.87-23.462-13.241Z" fill="#A8A8A8"></path><circle cx="96" cy="300" r="3" fill="#A8A8A8"></circle><circle cx="45" cy="355" r="3" fill="#A8A8A8"></circle><circle cx="147" cy="306" r="3" fill="#A8A8A8"></circle><circle cx="197" cy="258" r="3" fill="#A8A8A8"></circle><circle cx="249" cy="278" r="3" fill="#A8A8A8"></circle><circle cx="300" cy="245" r="3" fill="#A8A8A8"></circle><circle cx="351" cy="262" r="3" fill="#A8A8A8"></circle><path fill-rule="evenodd" clip-rule="evenodd" d="M229.969 208.854c-19.296-7.793-41.421-1.516-53.749 15.251l-10.663 14.501c-10.031 13.642-29.46 16.062-42.532 5.298-13.896-11.444-34.79-7.303-43.27 8.577l-34.314 64.254-.882-.471 34.314-64.254c8.778-16.437 30.404-20.724 44.788-8.878 12.628 10.4 31.4 8.061 41.091-5.119l10.662-14.501c12.599-17.134 35.209-23.55 54.93-15.586l3.243 1.31a50.046 50.046 0 0 0 31.549 1.975l12.467-3.3a70.5 70.5 0 0 1 43.999 2.606l29.082 11.518-.368.93-29.082-11.518a69.507 69.507 0 0 0-43.376-2.569l-12.466 3.3a51.046 51.046 0 0 1-32.179-2.015l-3.244-1.309Z" fill="#A8A8A8"></path><circle cx="96" cy="239" r="3" fill="#A8A8A8"></circle><circle cx="45" cy="316" r="3" fill="#A8A8A8"></circle><circle cx="147" cy="250" r="3" fill="#A8A8A8"></circle><circle cx="197" cy="208" r="3" fill="#A8A8A8"></circle><circle cx="249" cy="213" r="3" fill="#A8A8A8"></circle><circle cx="300" cy="206" r="3" fill="#A8A8A8"></circle><circle cx="351" cy="223" r="3" fill="#A8A8A8"></circle><path fill-rule="evenodd" clip-rule="evenodd" d="m350.868 117.838-23.757 25.893a79.497 79.497 0 0 1-51.631 25.448l-11.951 1.048a45.49 45.49 0 0 1-27.275-6.244l-6.002-3.578c-18.785-11.198-43.003-6.299-55.959 11.32l-7.713 10.49c-10.587 14.398-31.092 16.952-44.887 5.591-13.721-11.299-34.19-8.333-44.14 6.396L45.414 241.78l-.828-.56 32.139-47.578c10.28-15.218 31.427-18.282 45.603-6.608 13.353 10.996 33.2 8.524 43.446-5.411l7.714-10.49c13.26-18.035 38.049-23.049 57.276-11.586l6.002 3.578a44.507 44.507 0 0 0 26.676 6.106l11.95-1.048a78.502 78.502 0 0 0 50.982-25.128l23.758-25.893.736.676Z" fill="#A8A8A8"></path><circle cx="96" cy="181" r="3" fill="#A8A8A8"></circle><circle cx="45" cy="241" r="3" fill="#A8A8A8"></circle><circle cx="147" cy="194" r="3" fill="#A8A8A8"></circle><circle cx="197" cy="155" r="3" fill="#A8A8A8"></circle><circle cx="249" cy="167" r="3" fill="#A8A8A8"></circle><circle cx="300" cy="162" r="3" fill="#A8A8A8"></circle><circle cx="351" cy="118" r="3" fill="#A8A8A8"></circle></svg>'},49856:e=>{e.exports='<svg viewBox="0 0 400 400" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="#000" d="M132.5 67v20h-87V67zM195.5 67v20h-61V67zM243.5 67v20h-46V67zM188.5 130v20h-143v-20zM259.5 130v20h-69v-20zM325.5 130v20h-64v-20zM158.5 191v20h-113v-20zM234.5 191v20h-74v-20zM282.5 191v20h-46v-20zM114.5 253v20h-69v-20zM158.5 253v20h-42v-20zM197.5 253v20h-37v-20zM100.5 315v20h-55v-20zM163.5 315v20h-61v-20zM228.5 315v20h-63v-20zM24 79v-8h16v8zM24 140v-8h16v8zM24 200v-8h16v8zM24 262v-8h16v8zM24 323v-8h16v8zM135 372v-8h24v8zM85 372v-8h24v8zM33 372v-8h24v8zM185 372v-8h24v8zM237 372v-8h24v8zM289 372v-8h24v8zM341 372v-8h24v8z"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M376 350.501v.999h-75.5v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-22h.998v327.001H376Zm-24.5.999v4h-1v-4h1Z" fill="#000"></path></svg>'},11888:e=>{e.exports='<svg viewBox="0 0 400 400" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="#000" d="M24 107v-8h16v8zM24 56v-8h16v8zM24 158v-8h16v8zM24 209v-8h16v8zM24 261v-8h16v8zM24 311v-8h16v8zM24 362v-8h16v8zM128 376v-8h24v8zM68 376v-8h24v8zM189 376v-8h24v8zM250 376v-8h24v8zM311 376v-8h24v8zM70 271h20v87H70zM70 208h20v61H70zM70 160h20v46H70zM130 215h20v143h-20zM130 144h20v69h-20zM130 78h20v64h-20zM190 245h20v113h-20zM190 169h20v74h-20zM190 121h20v46h-20zM252 289h20v69h-20zM252 245h20v42h-20zM252 206h20v37h-20zM313 303h20v55h-20zM313 240h20v61h-20zM313 175h20v63h-20z"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M49 24h-1v28h-4v1h4v50h-4v1h4v50h-4v1h4v50h-4v1h4v50h-4v1h4v50h-4v1h4v50h-4v1h4v4h1v-4h60v4h1v-4h60v4h1v-4h60v4h1v-4h60v4h1v-4h60v4h1v-4h22v-.998H49V24Z" fill="#000"></path></svg>'},90007:e=>{e.exports='<svg viewBox="0 0 400 400" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="#000" d="M132 64v20H45V64zM195 64v20h-61V64zM350 64v20H197V64zM188 124v20H45v-20zM286 124v20h-96v-20zM350 124v20h-62v-20zM158 184v20H45v-20zM234 184v20h-74v-20zM350 184v20H236v-20zM114 246v20H45v-20zM272 246v20H116v-20zM350 246v20h-76v-20zM100 307v20H45v-20zM184 307v20h-82v-20zM350 307v20H186v-20zM24 79v-8h16v8zM24 140v-8h16v8zM24 200v-8h16v8zM24 262v-8h16v8zM24 323v-8h16v8zM135 372v-8h24v8zM85 372v-8h24v8zM33 372v-8h24v8zM185 372v-8h24v8zM237 372v-8h24v8zM289 372v-8h24v8zM341 372v-8h24v8z"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M376 350.501v.999h-75.5v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-50v4h-1v-4h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-60h-4v-1h4v-22h.998v327.001H376Zm-24.5.999v4h-1v-4h1Z" fill="#000"></path></svg>'},83466:e=>{e.exports='<svg viewBox="0 0 400 400" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="#000" d="M24 107v-8h16v8zM24 56v-8h16v8zM24 158v-8h16v8zM24 209v-8h16v8zM24 261v-8h16v8zM24 311v-8h16v8zM24 362v-8h16v8zM128 376v-8h24v8zM68 376v-8h24v8zM189 376v-8h24v8zM250 376v-8h24v8zM311 376v-8h24v8zM70 271h20v87H70zM70 208h20v61H70zM70 72h20v134H70zM130 215h20v143h-20zM130 117h20v96h-20zM130 72h20v43h-20zM190 245h20v113h-20zM190 169h20v74h-20zM190 72h20v95h-20zM252 289h20v69h-20zM252 131h20v156h-20zM252 72h20v57h-20zM313 303h20v55h-20zM313 219h20v82h-20zM313 72h20v145h-20z"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M49 24h-1v28h-4v1h4v50h-4v1h4v50h-4v1h4v50h-4v1h4v50h-4v1h4v50h-4v1h4v50h-4v1h4v4h1v-4h60v4h1v-4h60v4h1v-4h60v4h1v-4h60v4h1v-4h60v4h1v-4h22v-.998H49V24Z" fill="#000"></path></svg>'},43036:e=>{e.exports='<svg viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="m11.366 7.841-.732-.682-3.125 3.349-1.635-1.84-.748.664 2.365 2.66 3.875-4.15Z" fill="#000"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M4.5 3V1.167C4.5.469 5.204 0 6 0h4c.796 0 1.5.47 1.5 1.167V3h4a.5.5 0 0 1 0 1H14l-.929 11.077a1 1 0 0 1-.997.923H3.926a1 1 0 0 1-.997-.923L2 4H.5a.5.5 0 0 1 0-1h4ZM3.003 4h9.994l-.923 11H3.926L3.003 4ZM10.5 1v2h-5V1c0-.04 5-.04 5 0Z" fill="#000"></path></svg>'},84441:e=>{e.exports='<svg viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0Zm-1.27 4.936a6.5 6.5 0 1 1 .707-.707l4.136 4.137a.5.5 0 1 1-.707.707l-4.137-4.137ZM7 6h3v1H7v3H6V7H3V6h3V3h1v3Z" fill="#000"></path></svg>'},48682:e=>{e.exports='<svg viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M16 11V0H5v3.5h1V1h9v9H8.5v1H16ZM.25 3l8.642 4.969-3.422.738 2.723 5.45-2.886 1.667-2.724-5.45-2.351 2.595L.25 3Zm.996 1.726-.01 5.644 1.527-1.684 2.91 5.771 1.154-.667-2.91-5.77 2.222-.48-4.893-2.814Z" fill="#000"></path></svg>'},48891:e=>{"use strict";e.exports=l},34796:e=>{"use strict";e.exports=r},30726:e=>{"use strict";e.exports=o},22444:e=>{"use strict";e.exports=a}},t={};function i(l){var a=t[l];if(void 0!==a)return a.exports;var r=t[l]={exports:{}};return e[l](r,r.exports,i),r.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var l in t)i.o(t,l)&&!i.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.p="";var n={};return i.p=window.jimuConfig.baseUrl,(()=>{"use strict";i.r(n),i.d(n,{default:()=>be});var e,t=i(48891),l=i(22444);!function(e){e.ByGroup="BYGROUP",e.ByField="BYFIELD"}(e||(e={}));const a="name",r="value",o="objectid",v=t=>null!=(null==t?void 0:t.groupByFieldsForStatistics)?e.ByGroup:null!=(null==t?void 0:t.outStatistics)?e.ByField:void 0,c=e=>{if(!e||!e.includes(" "))return[];const t=e.lastIndexOf(" ");return t!==e.indexOf(" ")?[e.substring(0,t),e.substring(t+1)]:e.split(" ")},s={sum:"sumOf",avg:"meanOf",min:"minOf",max:"maxOf",count:"count",percentile_cont:"medianOf"},u={},d=e=>{var t,a;const r=null!==(t=(0,l.getSeriesType)(e))&&void 0!==t?t:"barSeries",o=null==e?void 0:e[0];let i,n;if(!o)return[];if("barSeries"===r){const t=o.stackedType,l=(e=>{var t,l;return null!==(l=null===(t=null==e?void 0:e[0])||void 0===t?void 0:t.rotated)&&void 0!==l&&l})(e),a=l?"bar":"column",r="sideBySide"===t?"":t;i=a,n=r?`${r}-${a}`:a}else if("lineSeries"===r){const t=(e=>(null==e?void 0:e[0]).showArea)(e),l=(e=>(null==e?void 0:e[0]).lineSmoothed)(e),a=t?"area":"line";let r="";l&&(r="smooth"),i=a,n=r?`${r}-${a}`:a}else"pieSeries"===r?(i="pie",n=(null!==(a=null==o?void 0:o.innerRadius)&&void 0!==a?a:0)>0?"donut":"pie"):"scatterSeries"===r?(i="scatter",n="scatter"):"histogramSeries"===r&&(i="histogram",n="histogram");return[i,n]};var h=i(34796),p=i(30726);const m="var(--light-900)",S=(l.RESTFontStyle.Normal,l.RESTFontWeight.Normal,l.RESTFontDecoration.None,l.RESTSymbolType.TS,l.RESTHorizontalAlignment.Center,{type:l.RESTSymbolType.SLS,style:l.RESTSimpleLineSymbolStyle.Solid,color:m,width:1}),g={type:l.RESTSymbolType.SFS,style:l.RESTSimpleFillSymbolStyle.Solid,color:"var(--primary)",outline:S},f=(l.RESTSymbolType.SMS,l.RESTSimpleMarkerSymbolStyle.Circle,(e=1,t=m,a=l.RESTSimpleLineSymbolStyle.Solid)=>Object.assign(Object.assign({},S),{width:e,color:t,style:a})),M=(e="var(--dark)",t=1,l=m)=>Object.assign(Object.assign({},g),{color:e,outline:f(t,l)}),y=e=>{if(null==e||""===e)return;const t="string"==typeof e?e:(0,l.getSeriesType)(e);return t===l.WebChartTypes.BarSeries||t===l.WebChartTypes.LineSeries};class b extends t.BaseVersionManager{constructor(){super(...arguments),this.versions=[{version:"1.6.0",description:"Rename `multipleBarType` to `stackedType`",upgrader:e=>{var t;if(!e)return e;let l=null===(t=e.webChart)||void 0===t?void 0:t.series;return(null==l?void 0:l.length)?(l=l.map((e=>(e=e.set("stackedType",e.multipleBarType)).without("multipleBarType"))),e.setIn(["webChart","series"],l)):e}},{version:"1.7.0",description:"Use the `numericField` as the `id` of serie, build the `query` in the `series` as a data source",upgrader:e=>{var l;if(!e)return e;let a=null===(l=e.webChart)||void 0===l?void 0:l.series;if(!(null==a?void 0:a.length))return e;a=(e=>null==e?void 0:e.map((e=>{var l,a,r,o,i;if(null===(a=null===(l=e.query)||void 0===l?void 0:l.groupByFieldsForStatistics)||void 0===a?void 0:a.length){const l=null===(i=null===(o=null===(r=e.query)||void 0===r?void 0:r.outStatistics)||void 0===o?void 0:o[0])||void 0===i?void 0:i.onStatisticField,a=e.id;return l&&l!==a&&(e=t.Immutable.set(e,"id",l)),e}return e})))(a);const r=(e=>{var t,l;if(!(null==e?void 0:e.length))return null;let a=e[0].query;return(null===(t=a.outStatistics)||void 0===t?void 0:t.length)?((null===(l=null==a?void 0:a.groupByFieldsForStatistics)||void 0===l?void 0:l.length)&&(a=((e,t)=>(t.slice(1).forEach((t=>{var l,a,r;const o=(null!==(l=e.outStatistics)&&void 0!==l?l:[]).concat(null!==(r=null===(a=t.query)||void 0===a?void 0:a.outStatistics)&&void 0!==r?r:[]);e=e.set("outStatistics",o)})),e))(a,e)),a):null})(a);a=a.map((e=>t.Immutable.without(e,"query")));const o={query:r};return e.setIn(["webChart","series"],a).setIn(["webChart","dataSource"],o)}},{version:"1.8.0",description:"",upgrader:e=>e},{version:"1.9.0",description:"",upgrader:e=>e},{version:"1.10.0",description:"Upgrade `config.colorMatch` to `series[0].slices` for pie chart.",upgrader:o=>{let i=(e=>{var a;if(!e)return e;let r=null===(a=e.webChart)||void 0===a?void 0:a.series;if(!(null==r?void 0:r.length))return e;if("pieSeries"!==(0,l.getSeriesType)(r))return e;if("colorMatch"!==r[0].colorType)return e;let o=e.webChart.dataSource;const i=null==o?void 0:o.colorMatch;if(!i)return e;const n=i.colorMatches,v=r[0].fillSymbol,c=Object.entries(n).map((([e,t])=>{var l,a,r;const o=e,i=t._fillColor;return{sliceId:o,fillSymbol:M(i,null!==(a=null===(l=v.outline)||void 0===l?void 0:l.width)&&void 0!==a?a:0,null===(r=v.outline)||void 0===r?void 0:r.color)}}));return r=t.Immutable.setIn(r,["0","slices"],c),o=o.without("colorMatch"),e.setIn(["webChart","series"],r).setIn(["webChart","dataSource"],o)})(o);return i=(t=>{var o,i,n,c,s,u,d;if(!t)return t;let h=null===(i=null===(o=t.webChart)||void 0===o?void 0:o.dataSource)||void 0===i?void 0:i.query,p=null===(n=t.webChart)||void 0===n?void 0:n.series;const m=(0,l.getSeriesType)(p);if("pieSeries"!==m&&!y(m))return t;if(v(h)!==e.ByField)return t;const S=null!==(u=null===(s=null===(c=null==h?void 0:h.outStatistics)||void 0===c?void 0:c[0])||void 0===s?void 0:s.statisticType)&&void 0!==u?u:"sum";p=p.map((e=>{let t=e.x,l=e.y,o=e.y;if("FieldName"===t&&(t=a,e=e.set("x",t)),"FieldValue"===l&&(l=r,e=e.set("y",l)),"FieldValue"===o&&(o=r,e=e.set("id",o)),"Sum of value"===e.name){const t=`${i=S,"string"==typeof i?i.charAt(0).toUpperCase()+i.slice(1):null} of value`;e=e.set("name",t)}var i;return e}));const g=null===(d=h.orderByFields)||void 0===d?void 0:d[0];return(null==g?void 0:g.includes("FieldName"))?h=h.set("orderByFields",[g.replace("FieldName",a)]):(null==g?void 0:g.includes("FieldValue"))&&(h=h.set("orderByFields",[g.replace("FieldValue",r)])),t.setIn(["webChart","series"],p).setIn(["webChart","dataSource","query"],h)})(i),i}}]}}const A=new b,z={chart:null,filter:null,dataSource:null,outputDataSource:null,recordsStatus:"none",queryVersion:0},R=(e,t)=>{switch(t.type){case"SET_CHART":return Object.assign(Object.assign({},e),{chart:t.value});case"SET_FILTER":return Object.assign(Object.assign({},e),{filter:t.value});case"SET_DATA_SOURCE":return Object.assign(Object.assign({},e),{dataSource:t.value});case"SET_OUTPUT_DATA_SOURCE":return Object.assign(Object.assign({},e),{outputDataSource:t.value});case"SET_RECORDS":return Object.assign(Object.assign({},e),{records:t.value});case"SET_RECORDS_STATUS":return Object.assign(Object.assign({},e),{recordsStatus:t.value});case"SET_QUERY_VERSION":return Object.assign(Object.assign({},e),{queryVersion:t.value});default:return e}},w=t.React.createContext(void 0),x=t.React.createContext(void 0),T=e=>{const{defaultState:l,children:a}=e,[r,o]=t.React.useReducer(R,l||z);return t.React.createElement(w.Provider,{value:r},t.React.createElement(x.Provider,{value:o},a))},E=()=>t.React.useContext(w),C=()=>t.React.useContext(x),D=e=>{const{widgetId:l,useDataSource:a,onQueryRequired:r}=e,{queryVersion:o,dataSource:i,filter:n}=E(),v=p.hooks.useRefValue(i),c=C();return t.React.useEffect((()=>{var e;v.current&&v.current.updateQueryParams({where:null!==(e=null==n?void 0:n.sql)&&void 0!==e?e:"1=1"},l)}),[n]),t.React.createElement(t.DataSourceComponent,{widgetId:l,useDataSource:a,onDataSourceCreated:e=>{c({type:"SET_DATA_SOURCE",value:e})},onQueryRequired:()=>{c({type:"SET_QUERY_VERSION",value:o+1}),null==r||r()}})},O=e=>{const{widgetId:l,dataSourceId:a}=e,r=C(),{outputDataSource:o,records:i}=E();t.React.useEffect((()=>{(e=>{if(!e)return!1;const t=e.getInfo();return t&&Object.keys(t).length>0})(o)&&i&&(o.setSourceRecords(i),o.setStatus(t.DataSourceStatus.Unloaded),o.setCountStatus(t.DataSourceStatus.Unloaded))}),[o,i]);const n=t.React.useMemo((()=>{if(a)return(0,t.Immutable)({dataSourceId:a,mainDataSourceId:a})}),[a]),v=e=>{var l,a,r;const o=t.DataSourceManager.getInstance().getDataSource(null===(r=null===(a=null===(l=null==e?void 0:e.getDataSourceJson())||void 0===l?void 0:l.originDataSources)||void 0===a?void 0:a[0])||void 0===r?void 0:r.dataSourceId);e&&o?(e.setPopupInfo(t.dataSourceUtils.getPopupInfoIntersection(o.getPopupInfo(),e)),e.setLayerDefinition(t.dataSourceUtils.getLayerDefinitionIntersection(o.getLayerDefinition(),e))):console.error("Failed to sync origin data source info to chart output data source.")};return t.React.createElement(t.DataSourceComponent,{widgetId:l,useDataSource:n,onDataSourceCreated:e=>{v(e),r({type:"SET_OUTPUT_DATA_SOURCE",value:e})},onDataSourceSchemaChange:()=>{o&&(v(o),o.getStatus()!==t.DataSourceStatus.NotReady&&(o.setStatus(t.DataSourceStatus.NotReady),o.setCountStatus(t.DataSourceStatus.NotReady)))}})},F=(e,r,o)=>{var i,n,v,s;const d=null==e?void 0:e[0];if(!d||!(null===(i=null==r?void 0:r.outStatistics)||void 0===i?void 0:i.length))return;const h=r.orderByFields,p=r.outStatistics,m=null===(v=null===(n=null==p?void 0:p.map((e=>e.onStatisticField)))||void 0===n?void 0:n.filter((e=>!!e)))||void 0===v?void 0:v.asMutable(),S=a,g=null!==(s=null==m?void 0:m.map((e=>{var l,a;const r=d.getFieldValue(e),i={[S]:e,value:null!=r?r:0},n=null!==(a=null===(l=((e,l)=>{var a;if(null!=u[e])return u[e];const r=t.DataSourceManager.getInstance().getDataSource(l),o=null==r?void 0:r.getSchema(),i=null===(a=null==o?void 0:o.fields)||void 0===a?void 0:a[e];return u[e]=i,i})(e,o.id))||void 0===l?void 0:l.alias)&&void 0!==a?a:e;return n!==e&&(i[S]=n,i.name_original=e),i})))&&void 0!==s?s:[];return function(e,t,a=!1){null!=e&&null!=t&&e.sort(((e,r)=>{let o=0;for(let i=0;i<t.length;i+=1){const[n,v]=c(t[i]),s=v===l.WebChartSortOrderKinds.Descending&&!a,u=e[n],d=r[n];if("string"==typeof u&&"string"==typeof d)o=u.localeCompare(d,void 0,{numeric:!0}),s&&(o*=-1);else if(null==u)o=s?-1:1;else if(null==d)o=s?1:-1;else{if(u>d){o=s?-1:1;break}if(u<d){o=s?1:-1;break}}}return o}))}(g,h),null==g?void 0:g.map(((e,t)=>{const l={attributes:e};return o.buildRecord(l)}))},I=(e,l,a,r,i)=>{const{dataSource:n,outputDataSource:v}=E(),c=C(),s=(e=>{var t;return null===(t=null==e?void 0:e.groupByFieldsForStatistics)||void 0===t?void 0:t[0]})(l),u=t.React.useMemo((()=>((e,t)=>{var l;return((e,t)=>{var l,a,r,o,i,n;return y(e)||"pieSeries"===e?t.outFields?!(!(null===(l=null==t?void 0:t.outFields)||void 0===l?void 0:l[0])||!(null===(a=null==t?void 0:t.groupByFieldsForStatistics)||void 0===a?void 0:a[0])):!!(null===(o=null===(r=null==t?void 0:t.outStatistics)||void 0===r?void 0:r[0])||void 0===o?void 0:o.onStatisticField):"scatterSeries"===e?!!(null===(i=null==t?void 0:t.outFields)||void 0===i?void 0:i[1]):"histogramSeries"===e?!!(null===(n=null==t?void 0:t.outFields)||void 0===n?void 0:n[0]):void 0})(e,t)?(null===(l=t.outStatistics)||void 0===l?void 0:l.length)&&!t.groupByFieldsForStatistics?t.without("orderByFields"):t:null})(e,l)),[l,e]);t.React.useEffect((()=>{(e=>{if(!(e=>{if(!e)return!1;const t=e.getInfo();return t&&Object.keys(t).length>0})(e))return!1;const l=e.getStatus();return l&&l!==t.DataSourceStatus.NotReady})(n)&&v&&null!=u&&(c({type:"SET_RECORDS_STATUS",value:"loading"}),n.query(u).then((e=>{let t=e.records;if(t.length>r)c({type:"SET_RECORDS_STATUS",value:"exceed"});else{if(0===t.length)return c({type:"SET_RECORDS_STATUS",value:"empty"}),void c({type:"SET_RECORDS",value:t});i&&(t=i(t,l,n)),t=((e,t,l)=>null==e?void 0:e.map(((e,a)=>{var r;if(t&&e.dataSource!==t){const i=e.getData(),n=l===o&&null!==(r=i.objectid)&&void 0!==r?r:a,v={attributes:Object.assign(Object.assign({},i),{[o]:n})};return t.buildRecord(v)}return e})))(t,v,s),c({type:"SET_RECORDS_STATUS",value:"loaded"}),c({type:"SET_RECORDS",value:t})}}),(e=>{console.error(e),c({type:"SET_RECORDS",value:void 0}),c({type:"SET_RECORDS_STATUS",value:"error"})})))}),[n,v,u,a])},j=a=>{var r;const{widgetId:o,webChart:i,outputDataSourceId:n,useDataSource:c}=a,s=(0,l.getSeriesType)(null==i?void 0:i.series),u=null===(r=null==i?void 0:i.dataSource)||void 0===r?void 0:r.query,d=(e=>{const t=null==e?void 0:e.length;if(!t)return 1e3;const a=(0,l.getSeriesType)(e);return y(a)?1e3/t:"pieSeries"===a?300:void 0})(null==i?void 0:i.series),{queryVersion:h}=E(),p=v(u),m=t.React.useMemo((()=>p!==e.ByField||!y(s)&&"pieSeries"!==s?null:F),[p,s]);return I(s,u,h,d,m),t.React.createElement(t.React.Fragment,null,t.React.createElement(D,{widgetId:o,useDataSource:c}),t.React.createElement(O,{widgetId:o,dataSourceId:n}))},Z=e=>{const{widgetId:l,useDataSource:a,outputDataSourceId:r}=e;return t.React.createElement(t.React.Fragment,null,t.React.createElement(D,{widgetId:l,useDataSource:a}),t.React.createElement(O,{widgetId:l,dataSourceId:r}))};var H=i(84441),B=i.n(H);const L=e=>{const l=window.SVG,{className:a}=e,r=function(e,t){var l={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(l[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(l[a[r]]=e[a[r]])}return l}(e,["className"]),o=(0,t.classNames)("jimu-icon jimu-icon-component",a);return l?t.React.createElement(l,Object.assign({className:o,src:B()},r)):t.React.createElement("svg",Object.assign({className:o},r))};var N=i(48682),V=i.n(N);const k=e=>{const l=window.SVG,{className:a}=e,r=function(e,t){var l={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(l[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(l[a[r]]=e[a[r]])}return l}(e,["className"]),o=(0,t.classNames)("jimu-icon jimu-icon-component",a);return l?t.React.createElement(l,Object.assign({className:o,src:V()},r)):t.React.createElement("svg",Object.assign({className:o},r))},P=e=>{const a=p.hooks.useTranslate(),[r,o]=t.React.useState("selection"),{type:i="barSeries",className:n,onChange:v}=e;return t.React.createElement("div",{className:(0,t.classNames)("range-cursor-mode",n)},t.React.createElement(p.Tooltip,{title:a("SelectLabel")},t.React.createElement(p.Button,{size:"sm",className:"mr-1",icon:!0,type:"tertiary",onClick:()=>{"pieSeries"!==i&&(v("selection"),o("selection"))},active:"selection"===r},t.React.createElement(k,null))),(e=>{if(null==e||""===e)return!1;const t="string"==typeof e?e:(0,l.getSeriesType)(e);return t===l.WebChartTypes.BarSeries||t===l.WebChartTypes.LineSeries||t===l.WebChartTypes.ScatterSeries||t===l.WebChartTypes.HistogramSeries})(i)&&t.React.createElement(p.Tooltip,{title:a("ZoomLabel")},t.React.createElement(p.Button,{size:"sm",icon:!0,type:"tertiary",onClick:()=>{v("zoom"),o("zoom")},active:"zoom"===r},t.React.createElement(L,null))))};var _=i(43036),U=i.n(_);const W=e=>{const l=window.SVG,{className:a}=e,r=function(e,t){var l={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(l[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(l[a[r]]=e[a[r]])}return l}(e,["className"]),o=(0,t.classNames)("jimu-icon jimu-icon-component",a);return l?t.React.createElement(l,Object.assign({className:o,src:U()},r)):t.React.createElement("svg",Object.assign({className:o},r))},q=e=>{const l=p.hooks.useTranslate(),{type:a,className:r,onModeChange:o,onClearSelection:i}=e;return t.React.createElement("div",{className:(0,t.classNames)("selection-zoom d-flex",r)},t.React.createElement(P,{type:a,className:"mr-1",onChange:o}),t.React.createElement(p.Tooltip,{title:l("clearSelection")},t.React.createElement(p.Button,{size:"sm",icon:!0,type:"tertiary",onClick:i},t.React.createElement(W,null))))},G={_widgetLabel:"Chart",datalimitedTip:"Bar or column charts are limited 1,000 bars in total. Please filter or re-aggregate your data and try again.",pieDatalimitedTip:"Cannot render, too many categories. Pie chart is limited to 300 categories as the maximum.",dataEmptyTip:"No data found.",sumOf:"Sum of {field}",meanOf:"Mean of {field}",minOf:"Minimum of {field}",maxOf:"Maximum of {field}",medianOf:"Median of {field}"},$=e=>((e,t)=>((e,t)=>{var l,a,r,o,i,n,v,c,s;return y(e)||"pieSeries"===e?t.outFields?!(!(null===(l=null==t?void 0:t.outFields)||void 0===l?void 0:l[0])||!(null===(a=null==t?void 0:t.groupByFieldsForStatistics)||void 0===a?void 0:a[0])):(null==t?void 0:t.groupByFieldsForStatistics)?!!(null===(r=null==t?void 0:t.groupByFieldsForStatistics)||void 0===r?void 0:r[0])&&!!(null===(i=null===(o=null==t?void 0:t.outStatistics)||void 0===o?void 0:o[0])||void 0===i?void 0:i.onStatisticField):!!(null===(v=null===(n=null==t?void 0:t.outStatistics)||void 0===n?void 0:n[0])||void 0===v?void 0:v.onStatisticField):"scatterSeries"===e?!!(null===(c=null==t?void 0:t.outFields)||void 0===c?void 0:c[1]):"histogramSeries"===e?!!(null===(s=null==t?void 0:t.outFields)||void 0===s?void 0:s[0]):void 0})(e,null==t?void 0:t.query))((0,l.getSeriesType)(null==e?void 0:e.series),null==e?void 0:e.dataSource),K=(e,l,a,r)=>{const[o,i]=t.React.useState("tooltip"),[n,v]=t.React.useState(""),c=t.ReactRedux.useSelector((e=>{var t,l;return null===(l=null===(t=e.dataSourcesInfo)||void 0===t?void 0:t[null==a?void 0:a.dataSourceId])||void 0===l?void 0:l.status})),s=t.ReactRedux.useSelector((e=>{var t,l;return null===(l=null===(t=e.dataSourcesInfo)||void 0===t?void 0:t[null==a?void 0:a.dataSourceId])||void 0===l?void 0:l.instanceStatus})),u=p.hooks.useTranslate(t.defaultMessages,p.defaultMessages,G);return t.React.useEffect((()=>{if(i("exceed"===r?"basic":"tooltip"),c===t.DataSourceStatus.NotReady&&s===t.DataSourceStatus.Created){const e=t.DataSourceManager.getInstance().getDataSource(a.dataSourceId),l=((e,l)=>{if(!e||!l)return null;const a=((e,l)=>{const a=null==l?void 0:l.getLabel(),r=(e=>{var l,a,r;const o=t.appConfigUtils.getWidgetIdByOutputDataSource(e);return null===(r=null===(a=null===(l=(0,t.getAppStore)().getState())||void 0===l?void 0:l.appConfig.widgets)||void 0===a?void 0:a[o])||void 0===r?void 0:r.label})(e);return{dataSourceLabel:a,widgetLabel:r}})(e,l);return["outputDataIsNotGenerated",{outputDsLabel:a.dataSourceLabel,sourceWidgetName:a.widgetLabel}]})(a,e);if(l){const e=u(...l);v(e)}}else if(l){const t=((e,t)=>{let l="";return"exceed"===t?y(e)?l="datalimitedTip":"pieSeries"===e&&(l="pieDatalimitedTip"):"empty"===t?l="dataEmptyTip":"error"===t&&(l="widgetLoadError"),l})(e,r);if(t){const e=u(t);v(e)}}else v("")}),[c,s,e,l,r]),[o,n]},Q={bar:i(63155),column:i(46986),"stacked-bar":i(49856),"stacked100-bar":i(90007),"stacked-column":i(11888),"stacked100-column":i(83466),line:i(52760),"smooth-line":i(27118),area:i(27691),"smooth-area":i(62859),pie:i(29174),donut:i(40021),scatter:i(90541),histogram:i(80948)},Y=t.css`
  display: flex;
  justify-content: center;
  position: absolute;
  z-index: 1;
  .jimu-widget-placeholder {
    position: absolute;
    left: 0px;
    top: 0px;
  }
  .alert-tooltip-button{
    position: absolute;
    right: 10px;
    bottom: 10px;
  }
  .alert-panel {
    position: absolute;
    max-width: calc(100% - 20px);
    width: auto !important;
    bottom: 10px;
  }
`,J=e=>{const{templateType:l,showMessage:a,message:r,messageType:o="tooltip",className:i}=e,n=t.React.useMemo((()=>Q[l]),[l]);return(0,t.jsx)("div",{className:(0,t.classNames)("placeholder-container w-100 h-100",i),css:Y},(0,t.jsx)(p.WidgetPlaceholder,{iconSize:"large",icon:n}),a&&(0,t.jsx)(p.Alert,{form:o,withIcon:!0,size:"small",type:"warning",text:r}))},X=h.styled.div((e=>`\n      position: relative;\n      display: flex;\n      flex-direction: column;\n      width: 100%;\n      height: 100%;\n      background-color: ${e.background} !important;\n      .chart-toolbar {\n        height: ${e.showTools?"38px":"0px"};\n      }\n      .chart-container {\n        height: ${e.showTools?"calc(100% - 38px)":"100%"} !important;\n        > .web-chart {\n          height: 100%\n          width: 100%;\n        }\n      }\n      .arcgis-charts-modal-content, .arcgis-charts-ampopup-content, .arcgis-charts-modal-curtain, .arcgis-charts-ampopup-curtain {\n        z-index: auto;\n      }\n    `)),ee=e=>{const{className:l,showPlaceholder:a,showLoading:r,background:o,tools:i,templateType:n,messageType:v,message:c,children:s}=e;return t.React.createElement(X,{showTools:!!i,background:o,className:(0,t.classNames)("chart-root",l)},a&&t.React.createElement(J,{templateType:n,message:c,messageType:v,showMessage:!!c}),!a&&t.React.createElement(t.React.Fragment,null,t.React.createElement("div",{className:"chart-toolbar"},i),t.React.createElement("div",{className:"chart-container"},s,r&&t.React.createElement(p.Loading,{type:"DONUT"}))))};const te=t.React.forwardRef(((e,a)=>{var r;const{noDataOptions:o,tooltipFormatter:i,dataLabelFormatter:n,enableResponsiveFeatures:v=!1,autoDisposeChart:c=!0,queueChartCreation:s=!0,useAnimatedCharts:u=!1,hideLicenceWatermark:d=!0,ignoreSmoothRenderingLimit:h=!1,legendValueLabelFormatter:p,setTimeBinningInfoWhenNotProvided:m}=e,S=function(e,t){var l={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(l[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(l[a[r]]=e[a[r]])}return l}(e,["noDataOptions","tooltipFormatter","dataLabelFormatter","enableResponsiveFeatures","autoDisposeChart","queueChartCreation","useAnimatedCharts","hideLicenceWatermark","ignoreSmoothRenderingLimit","legendValueLabelFormatter","setTimeBinningInfoWhenNotProvided"]),g=(0,l.getSeriesType)(null===(r=e.webMapWebChart)||void 0===r?void 0:r.series),f={autoDisposeChart:c,enableResponsiveFeatures:v,queueChartCreation:s,useAnimatedCharts:u,hideLicenceWatermark:d};return t.React.createElement(t.React.Fragment,null,"barSeries"===g&&t.React.createElement(l.BarChart,Object.assign({ref:a},S,{dataLabelFormatter:n,tooltipFormatter:i,noDataOptions:o},f)),"lineSeries"===g&&t.React.createElement(l.LineChart,Object.assign({ref:a},S,{dataLabelFormatter:n,tooltipFormatter:i,ignoreSmoothRenderingLimit:h,setTimeBinningInfoWhenNotProvided:m,noDataOptions:o},f)),"pieSeries"===g&&t.React.createElement(l.PieChart,Object.assign({ref:a},S,{dataLabelFormatter:n,tooltipFormatter:i,legendValueLabelFormatter:p,noDataOptions:o},f)),"scatterSeries"===g&&t.React.createElement(l.ScatterPlot,Object.assign({ref:a},S,{dataLabelFormatter:n,tooltipFormatter:i,ignoreSmoothRenderingLimit:h,noDataOptions:o},f)),"histogramSeries"===g&&t.React.createElement(l.Histogram,Object.assign({ref:a},S,{dataLabelFormatter:n,tooltipFormatter:i},f)))})),le=t.css`
  .tool-dividing-line {
    height: 16px;
    width: 1px;
    background-color: var(--light-400);
  }
`,ae=e=>{var a,r,o;const{type:i="barSeries",className:n,widgetId:v,tools:c,enableDataAction:s}=e,u=p.hooks.useTranslate()("outputStatistics",{name:null!==(o=null===(r=null===(a=(0,t.getAppStore)().getState().appConfig.widgets)||void 0===a?void 0:a[v])||void 0===r?void 0:r.label)&&void 0!==o?o:"Chart"}),{outputDataSource:d,chart:h}=E(),{records:m}=(e=>{const l=null==e?void 0:e.id,a=t.ReactRedux.useSelector((e=>{var t,a;return null===(a=null===(t=e.dataSourcesInfo)||void 0===t?void 0:t[l])||void 0===a?void 0:a.sourceVersion}));return t.React.useMemo((()=>{var t;return{records:null!==(t=null==e?void 0:e.getSourceRecords())&&void 0!==t?t:[],version:a}}),[e,a])})(d),S=null==c?void 0:c.cursorEnable;return t.React.useEffect((()=>{S?null==h||h.setActionMode(l.ActionModes.MultiSelectionWithCtrlKey):null==h||h.setActionMode(l.ActionModes.None)}),[S,h]),(0,t.jsx)("div",{css:le,className:(0,t.classNames)("chart-tool-bar w-100 d-flex align-items-center justify-content-end px-2 pt-2",n)},S&&(0,t.jsx)(q,{type:i,className:"mr-1",onModeChange:e=>{"selection"===e?null==h||h.setActionMode(l.ActionModes.MultiSelectionWithCtrlKey):"zoom"===e&&(null==h||h.setActionMode(l.ActionModes.Zoom))},onClearSelection:()=>{null==h||h.clearSelection()}}),s&&(0,t.jsx)(t.React.Fragment,null,(0,t.jsx)("span",{className:"tool-dividing-line mx-1"}),(0,t.jsx)(p.DataActionDropDown,{type:"tertiary",widgetId:v,dataSet:{dataSource:d,records:m,name:u}})))},re=(e,t,l)=>{var a;const r=[],o=null===(a=null==t?void 0:t.groupByFieldsForStatistics)||void 0===a?void 0:a[0];return null==e||e.forEach((e=>{const t=e.getData();let a=Object.assign({},t);o&&null==a[o]||(a=oe(a,e,o,l),r.push(a))})),r},oe=(e,t,l,a)=>{const r=t.getFieldValue(l),o=t.getFormattedFieldValue(l,a);return o!==r&&(e[l]=o,e[l+"_original"]=r),e},ie=(t,a,r,o,i)=>{var n,c,s,u;let d=null,h=null,p=!0;if(y(t))d=null!==(n=((t,l,a)=>{let r=[];const o=v(l);return o===e.ByGroup?r=re(t,l,a):o===e.ByField&&(r=null==t?void 0:t.map((e=>e.getData()))),r})(a,r,i))&&void 0!==n?n:[],h={dataItems:d};else if("pieSeries"===t)d=null!==(c=((t,l,a)=>{let r=[];const o=v(l);return o===e.ByGroup?r=re(t,l,a):o===e.ByField&&(r=null==t?void 0:t.map((e=>e.getData()))),r})(a,r,i))&&void 0!==c?c:[],h=d;else if("scatterSeries"===t)d=null!==(s=((e,t)=>{var l;const a=[],r=null===(l=null==t?void 0:t.outFields)||void 0===l?void 0:l[0];return null==e||e.forEach((e=>{const t=e.getData(),l=Object.assign({},t);r&&null==l[r]||a.push(l)})),a})(a,r))&&void 0!==s?s:[],h={data:d},p=!1;else if("histogramSeries"===t){const e=((e,t)=>{const{statistic:a,bins:r}=((e,t)=>{const a=null==e?void 0:e.map((e=>e.getData())),r=(0,l.processInlineHistogramRawData)(a,t[0]);let o=null,i=[];if(r.valid){const e=r.data;i=e.bins;const{mean:t,stddev:l,median:a,min:n,max:v}=e;o={mean:t,stddev:l,median:a,min:n,max:v}}return{statistic:o,bins:i}})(e,t);if(null==r?void 0:r.length)return Object.assign(Object.assign({},a),{bins:r})})(a,o);d=null!==(u=null==e?void 0:e.bins)&&void 0!==u?u:[],h=e}return[{inputData:h,processed:p},d]},ne=(e,l)=>{const a=e.y,r=l.outStatistics.filter((e=>e.outStatisticFieldName===a)),{groupByFieldsForStatistics:o,orderByFields:i}=l,n=(0,t.Immutable)({groupByFieldsForStatistics:o,outStatistics:r,orderByFields:i});return e.set("query",n)},ve=(t,a)=>{let r=null;const o=(0,l.getSeriesType)(t);return y(o)&&v(a)===e.ByGroup&&(r=ne),r?null==t?void 0:t.map((e=>r(e,a))):t},ce=(e,a,r)=>{const o=t.React.useRef(),i=p.hooks.useEventCallback((r=>{var i;const n=null==a?void 0:a.getSourceRecords();if(!(null==n?void 0:n.length))return;const v=null!==(i=(e=>{let t=[];return null==e||e.forEach((e=>{t=t.concat(e.indexesToSelect)})),Array.from(new Set(t.sort()))})(r.detail.selectionIndexes))&&void 0!==i?i:[],c=v.map((e=>e+"")),s=r.detail.selectionSource;if(s!==l.SelectionSource.SelectionByClickOrRange&&s!==l.SelectionSource.ClearSelection)return;let u=[];(null==c?void 0:c.length)&&(u=n.filter((e=>{const t=e.getId();return c.includes(t)}))),o.current=c,t.MessageManager.getInstance().publishMessage(new t.DataRecordsSelectionChangeMessage(e,u)),a.selectRecordsByIds(c)})),n=t.ReactRedux.useSelector((e=>{var t,l;return null===(l=null===(t=e.dataSourcesInfo)||void 0===t?void 0:t[null==a?void 0:a.id])||void 0===l?void 0:l.selectedIds})),[v,c]=t.React.useState();return t.React.useEffect((()=>{if(!n)return;const e=n.asMutable();if(t.lodash.isDeepEqual(e,o.current))return;o.current=e;const l=((e,t=1)=>{const l=e.filter((e=>e)).map((e=>+e)),a=(null==l?void 0:l.length)?l:[],r=new Map;return(e=>{const t=[];for(let l=0;l<e;l++)t.push(l);return t})(t).forEach(((e,t)=>{r.set(t,{indexesToSelect:a})})),r})(e,r);c(l)}),[n]),[t.React.useMemo((()=>({selectionIndexes:v})),[v]),i]},se={displayMessageWhenNoData:!1},ue={type:"inline"},de=[0,0,0,0],he=function(r){var o,i;const{className:n,widgetId:c,webChart:u,chartLimits:d}=r,{outputDataSource:h,records:m,recordsStatus:S}=E(),g=C(),f=c+"-"+(null!==(o=null==u?void 0:u.id)&&void 0!==o?o:"chart"),M=(0,t.useIntl)(),b=p.hooks.useTranslate(G,p.defaultMessages),A=t.React.useRef(null);let z=t.React.useMemo((()=>u.without("dataSource").set("id",f).set("background",de)),[f,u]);const R=(0,l.getSeriesType)(u.series),w=null===(i=null==u?void 0:u.dataSource)||void 0===i?void 0:i.query,x=null==u?void 0:u.series,[T,D]=t.React.useMemo((()=>ie(R,m,w,x,M)),[R,m,w,x,M]),O=t.React.useMemo((()=>{var e;return Object.assign(Object.assign({},ue),{processed:null===(e=null==T?void 0:T.processed)||void 0===e||e})}),[null==T?void 0:T.processed]);let F=t.React.useMemo((()=>ve(x,w)),[x,w]);F=t.React.useMemo((()=>((t,r,o)=>{var i,n,c;if("pieSeries"!==(0,l.getSeriesType)(t))return t;const s=null===(i=null==t?void 0:t[0])||void 0===i?void 0:i.slices;if(!s)return t;const u=v(r)===e.ByField?a:null===(n=null==r?void 0:r.groupByFieldsForStatistics)||void 0===n?void 0:n[0],d=u+"_original",h=null===(c=null==s?void 0:s.map((e=>{const t=e.sliceId,l=null==o?void 0:o.find((e=>{const l=e[d]||e[u];return null!=l&&(t===l||t===l+"")}));return l?e.set("sliceId",l[u]):null})))||void 0===c?void 0:c.filter((e=>!!e));return t.map((e=>e.set("slices",h)))})(F,w,D)),[D,w,F]),F=t.React.useMemo((()=>((t,a,r)=>{var o,i;const n=(0,l.getSeriesType)(t),c=null===(i=null===(o=null==a?void 0:a.outStatistics)||void 0===o?void 0:o[0])||void 0===i?void 0:i.statisticType;let u=t;return v(a)===e.ByField?u:c?((y(n)||"pieSeries"===n)&&(u=t.map((e=>{const t=e.name,l=((e,t,l)=>l(s[e],{field:t}))(c,t,r);return e.set("name",l)}))),u):u})(F,w,b)),[F,w,b]),z=t.React.useMemo((()=>z.set("series",F)),[z,F]);const I=t.React.useMemo((()=>"loaded"!==S?A.current:(A.current=z,z)),[S,z]),j=t.React.useCallback((e=>{g({type:"SET_CHART",value:e})}),[g]),[Z,H]=ce(c,h,null==x?void 0:x.length);return t.React.createElement(t.React.Fragment,null,I&&t.React.createElement(te,{ref:j,className:n,webMapWebChart:I,dataSource:O,inlineData:T,noDataOptions:se,hideLoaderAnimation:!0,chartLimits:d,selectionData:Z,arcgisChartsSelectionComplete:H}))},pe=e=>{var a;const{widgetId:r,tools:o,enableDataAction:i=!0,webChart:n,chartLimits:v,useDataSource:c,defaultTemplateType:s}=e,{recordsStatus:u,records:h}=E(),p=(0,l.getSeriesType)(null==n?void 0:n.series),m=(null==o?void 0:o.cursorEnable)||!!(null==o?void 0:o.filter)||i,{valid:S,render:g}=((e,l,a)=>{const r=t.ReactRedux.useSelector((t=>{var l,a;return null===(a=null===(l=t.dataSourcesInfo)||void 0===l?void 0:l[e])||void 0===a?void 0:a.status})),o=t.React.useMemo((()=>$(l)),[l]);return{valid:o,render:r&&r!==t.DataSourceStatus.NotReady&&o&&!!(null==a?void 0:a.length)}})(null==c?void 0:c.dataSourceId,n,h),f=(null===(a=d(null==n?void 0:n.series))||void 0===a?void 0:a[1])||s||"column",[M,y]=K(p,S,c,u),b=m?t.React.createElement(ae,{type:p,tools:o,widgetId:r,enableDataAction:i}):null;return t.React.createElement(ee,{templateType:f,messageType:M,message:y,showLoading:"loading"===u,background:null==n?void 0:n.background,className:"web-inlie-data-chart",showPlaceholder:!g,tools:b},t.React.createElement(he,{className:"web-chart",widgetId:r,webChart:n,chartLimits:v}))},me=[0,0,0,0],Se=function(e){var a,r;const{className:o,widgetId:i,webChart:n,useDataSource:v,chartLimits:c}=e,s=(0,l.getSeriesType)(null==n?void 0:n.series),u=i+"-"+(null!==(a=null==n?void 0:n.id)&&void 0!==a?a:"chart"),d=C(),{outputDataSource:h}=E(),m=(e=>{const l=p.hooks.useCancelablePromiseMaker(),[a,r]=t.React.useState(null),o=t.ReactRedux.useSelector((t=>{var l,a;return null===(a=null===(l=t.dataSourcesInfo)||void 0===l?void 0:l[e])||void 0===a?void 0:a.instanceStatus}));return t.React.useEffect((()=>{if(o!==t.DataSourceStatus.Created)return null;let a=t.DataSourceManager.getInstance().getDataSource(e);a?(a.type===t.DataSourceTypes.SceneLayer&&(a=a.getAssociatedDataSource()),l(a.createJSAPILayerByDataSource()).then((e=>{r(e)}))):console.error(`No data source founded for id: ${e}`)}),[l,e,o]),a})(null==v?void 0:v.dataSourceId),S=t.React.useMemo((()=>{var e;const t=null===(e=n.dataSource)||void 0===e?void 0:e.query,l=ve(n.series,t);return n.without("dataSource").set("series",l).set("id",u).set("background",me)}),[u,n]),g=t.React.useCallback((e=>{d({type:"SET_CHART",value:e})}),[d]),f=p.hooks.useEventCallback((e=>{const t=((e,t)=>{let l=[];return y(e)?l=null==t?void 0:t.dataItems:"pieSeries"===e?l=t:"scatterSeries"===e?l=null==t?void 0:t.data:"histogramSeries"===e&&(l=null==t?void 0:t.bins),l})(s,e.detail),l=((e=[],t)=>{const l=null==e?void 0:e.map(((e,l)=>{const a={attributes:null},r=Object.assign({},e);return r.objectid=l,a.attributes=r,t.buildRecord(a)}));return l})(t,h);d({type:"SET_RECORDS",value:l})})),[M,b]=ce(i,h,null===(r=n.series)||void 0===r?void 0:r.length);return t.React.createElement(t.React.Fragment,null,m&&t.React.createElement(te,{className:o,webMapWebChart:S,featureLayer:m,chartLimits:c,ref:g,selectionData:M,arcgisChartsSelectionComplete:b,arcgisChartsDataProcessComplete:f}))},ge=e=>{var a;const{widgetId:r,tools:o,enableDataAction:i=!0,webChart:n,chartLimits:v,useDataSource:c,defaultTemplateType:s}=e,{recordsStatus:u}=E(),h=(0,l.getSeriesType)(null==n?void 0:n.series),p=(null==o?void 0:o.cursorEnable)||!!(null==o?void 0:o.filter)||i,{valid:m,render:S}=((e,l)=>{const a=t.ReactRedux.useSelector((t=>{var l,a;return null===(a=null===(l=t.dataSourcesInfo)||void 0===l?void 0:l[e])||void 0===a?void 0:a.status})),r=t.React.useMemo((()=>$(l)),[l]);return{valid:r,render:a!==t.DataSourceStatus.NotReady&&r}})(null==c?void 0:c.dataSourceId,n),g=(null===(a=d(null==n?void 0:n.series))||void 0===a?void 0:a[1])||s||"column",[f,M]=K(h,m,c,u),y=p?t.React.createElement(ae,{type:h,tools:o,widgetId:r,enableDataAction:i}):null;return t.React.createElement(ee,{templateType:g,messageType:f,message:M,showLoading:"loading"===u,background:null==n?void 0:n.background,className:"web-feature-layer-chart",showPlaceholder:!S,tools:y},t.React.createElement(Se,{className:"web-chart",widgetId:r,webChart:n,chartLimits:v,useDataSource:c}))},fe={maxBarUniqueSeriesCountTotal:1e3,maxBarTwoSeriesCountTotal:1e3,maxBarThreePlusSeriesCountTotal:1e3,maxPieChartSliceCountTotal:300},Me=e=>{const{outputDataSourceId:a,useDataSource:r,tools:o,webChart:i,widgetId:n,defaultTemplateType:v,enableDataAction:c}=e,s="histogramSeries"!==(0,l.getSeriesType)(null==i?void 0:i.series);return t.React.createElement(t.React.Fragment,null,s&&t.React.createElement(t.React.Fragment,null,t.React.createElement(j,{widgetId:n,webChart:i,outputDataSourceId:a,useDataSource:r}),t.React.createElement(pe,{widgetId:n,tools:o,webChart:i,chartLimits:fe,useDataSource:r,enableDataAction:c,defaultTemplateType:v})),!s&&t.React.createElement(t.React.Fragment,null,t.React.createElement(Z,{widgetId:n,webChart:i,outputDataSourceId:a,useDataSource:r}),t.React.createElement(ge,{widgetId:n,tools:o,webChart:i,chartLimits:fe,useDataSource:r,enableDataAction:c,defaultTemplateType:v})))},ye=e=>{const{outputDataSources:l,useDataSources:a,config:r,id:o,enableDataAction:i}=e,n=null==r?void 0:r.webChart,v=null==r?void 0:r.tools,c=null==r?void 0:r._templateType;return t.React.createElement("div",{className:"jimu-widget widget-chart"},t.React.createElement(T,null,t.React.createElement(Me,{widgetId:o,tools:v,webChart:n,useDataSource:null==a?void 0:a[0],outputDataSourceId:null==l?void 0:l[0],enableDataAction:i,defaultTemplateType:c})))};ye.versionManager=A;const be=ye})(),n})())}}}));