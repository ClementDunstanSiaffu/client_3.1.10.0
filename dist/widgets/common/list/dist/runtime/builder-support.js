System.register(["jimu-core","jimu-core/dnd","jimu-ui","jimu-for-builder","jimu-layouts/layout-runtime","jimu-layouts/layout-builder","jimu-theme"],(function(e,t){var o={},n={},i={},r={},s={},l={},p={};return{setters:[function(e){o.AppMode=e.AppMode,o.BrowserSizeMode=e.BrowserSizeMode,o.LayoutItemType=e.LayoutItemType,o.React=e.React,o.appActions=e.appActions,o.css=e.css,o.getAppStore=e.getAppStore,o.jsx=e.jsx},function(e){n.interact=e.interact},function(e){i.Button=e.Button,i.ButtonGroup=e.ButtonGroup,i.Dropdown=e.Dropdown,i.DropdownButton=e.DropdownButton,i.DropdownItem=e.DropdownItem,i.DropdownMenu=e.DropdownMenu,i.Popper=e.Popper},function(e){r.builderAppSync=e.builderAppSync,r.getAppConfigAction=e.getAppConfigAction},function(e){s.searchUtils=e.searchUtils},function(e){l.GLOBAL_DRAGGING_CLASS_NAME=e.GLOBAL_DRAGGING_CLASS_NAME,l.GLOBAL_H5_DRAGGING_CLASS_NAME=e.GLOBAL_H5_DRAGGING_CLASS_NAME,l.GLOBAL_RESIZING_CLASS_NAME=e.GLOBAL_RESIZING_CLASS_NAME},function(e){p.withBuilderStyles=e.withBuilderStyles,p.withBuilderTheme=e.withBuilderTheme}],execute:function(){e((()=>{"use strict";var e={48891:e=>{e.exports=o},54020:e=>{e.exports=n},23137:e=>{e.exports=r},77282:e=>{e.exports=l},74758:e=>{e.exports=s},34796:e=>{e.exports=p},30726:e=>{e.exports=i}},t={};function a(o){var n=t[o];if(void 0!==n)return n.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,a),i.exports}a.d=(e,t)=>{for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var d={};return(()=>{a.r(d),a.d(d,{default:()=>I});var e,t,o,n,i,r,s,l,p,u,c,S,g=a(48891),A=a(54020),L=a(30726),y=a(23137),h=a(74758);!function(e){e.None="NONE",e.Arrangement="ARRANGEMENT",e.States="STATES",e.Tools="TOOLS"}(e||(e={})),function(e){e.AUTO="Auto",e.CUSTOM="Custom"}(t||(t={})),function(e){e.None="NONE",e.Single="SINGLE",e.Multiple="MULTIPLE"}(o||(o={})),function(e){e.Scroll="SCROLL",e.MultiPage="MULTIPAGE"}(n||(n={})),function(e){e.Start="FLEX-START",e.Center="CENTER",e.End="FLEX-END"}(i||(i={})),function(e){e.Horizon="HORIZON",e.Vertical="VERTICAL"}(r||(r={})),function(e){e.Row="ROW",e.Column="COLUMN",e.GRID="GRID"}(s||(s={})),function(e){e.Glide="GLIDE",e.Fade="FADE",e.Float="FLOAT"}(l||(l={})),function(e){e.Hover0="HOVER0",e.Hover1="HOVER1",e.Hover2="HOVER2",e.Hover3="HOVER3"}(p||(p={})),function(e){e.Style0="STYLE0",e.Style1="STYLE1",e.Style2="STYLE2",e.Style3="STYLE3"}(u||(u={})),function(e){e.Style0="STYLE0",e.Style1="STYLE1",e.Style2="STYLE2",e.Style3="STYLE3",e.Style4="STYLE4",e.Style5="STYLE5",e.Style6="STYLE6",e.Style7="STYLE7",e.Style8="STYLE8",e.Style9="STYLE9"}(c||(c={})),function(e){e.Regular="REGULAR",e.Selected="SELECTED",e.Hover="HOVER"}(S||(S={}));var f=a(77282);class m extends g.React.PureComponent{constructor(e){super(e),this.onDropDownToggle=e=>{e.stopPropagation();const{isDropDownOpen:t,onDropDownOpenChange:o}=this.props;if(void 0!==t)o&&o(!t);else{const{isOpen:e}=this.state;this.setState({isOpen:!e})}},this.onItemClick=(e,t)=>{const{isDropDownOpen:o,onDropDownOpenChange:n}=this.props;void 0!==o?n&&n(!1):this.setState({isOpen:!1}),t.event(e,t),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},this.onDropDownMouseClick=e=>{e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},this.getStyle=()=>{var e,t,o,n,i,r;const{theme:s}=this.props;return g.css`
      & button {
        padding: 0;
      }
      .list-toggle-button {
        background: ${null===(o=null===(t=null===(e=s.colors)||void 0===e?void 0:e.palette)||void 0===t?void 0:t.light)||void 0===o?void 0:o[500]};
        border: none;
        &:hover, &[aria-expanded="true"] {
          background: ${null===(r=null===(i=null===(n=s.colors)||void 0===n?void 0:n.palette)||void 0===i?void 0:i.light)||void 0===r?void 0:r[800]};
        }
      }
    `},this.state={isOpen:!1};const{withBuilderStyle:t}=e;this.MyDropdown=t?t(L.Dropdown):L.Dropdown,this.MyDropdownButton=t?t(L.DropdownButton):L.DropdownButton,this.MyDropdownMenu=t?t(L.DropdownMenu):L.DropdownMenu,this.MyDropdownItem=t?t(L.DropdownItem):L.DropdownItem}render(){const{items:e,toggleContent:t,caret:o,toggleType:n,toggleArrow:i,menuContent:r,appMode:s,modifiers:l,toggleIsIcon:p,theme:a,isDropDownOpen:d,size:u,appendToBody:c,toggleTitle:S,direction:A,menuCss:L,className:y,showActive:h,activeLabel:f,fluid:m}=this.props;let{isOpen:w}=this.state;w=void 0===d?w:d;const{MyDropdown:I,MyDropdownButton:E,MyDropdownMenu:D,MyDropdownItem:B}=this;return(0,g.jsx)(I,{size:u,toggle:this.onDropDownToggle,direction:A,fluid:m,isOpen:w&&s!==g.AppMode.Design,className:`my-dropdown ${y}`,css:this.getStyle()},t&&(0,g.jsx)(E,{icon:p,title:S,size:u,type:n,caret:o,className:"list-toggle-button",arrow:i},t&&t(a)),(0,g.jsx)(D,{appendToBody:c,modifiers:l,css:L&&L(a)},r?r(a):e&&e.asMutable().map(((e,t)=>!e.hide&&(0,g.jsx)(B,{key:t,className:"no-user-select",title:e.label,active:h&&e.label===f,onClick:t=>this.onItemClick(t,e)},e.label)))))}}var w=a(34796);const I={ButtonGroup:L.ButtonGroup,interact:A.interact,searchUtils:h.searchUtils,getAppConfigAction:y.getAppConfigAction,GLOBAL_DRAGGING_CLASS_NAME:f.GLOBAL_DRAGGING_CLASS_NAME,GLOBAL_RESIZING_CLASS_NAME:f.GLOBAL_RESIZING_CLASS_NAME,GLOBAL_H5_DRAGGING_CLASS_NAME:f.GLOBAL_H5_DRAGGING_CLASS_NAME,withBuilderStyle:w.withBuilderStyles,withBuilderTheme:w.withBuilderTheme,BuilderDropDown:(0,w.withBuilderTheme)((e=>g.React.createElement(m,Object.assign({},e,{withBuilderStyle:w.withBuilderStyles})))),BuilderPopper:(0,w.withBuilderTheme)(L.Popper),BuilderButton:(0,w.withBuilderTheme)(L.Button),handleResizeCard:(e,t,o=!1,n=!1,i=!1,r=!1)=>{const s=function(e,t,o,n=!1,i=!1,r=!1,s){const{id:l,browserSizeMode:p}=e;s||(s=(0,y.getAppConfigAction)().appConfig);const a=(0,y.getAppConfigAction)(s);return a.editWidgetConfig(l,o.setIn(["cardConfigs",S.Regular,"cardSize",p],t).setIn(["cardConfigs",S.Hover,"cardSize",p],t).setIn(["cardConfigs",S.Selected,"cardSize",p],t)),a}(e,t,e.config,o,n,i);s&&s.exec(r)},selectSelf:e=>{!function(e,t){const{id:o,dispatch:n,browserSizeMode:i}=e,r=(0,y.getAppConfigAction)().appConfig,s=h.searchUtils.getContentLayoutInfosInOneSizeMode(r,o,g.LayoutItemType.Widget,i);if(s)if(s.length>1){const e=h.searchUtils.getWidgetIdThatUseTheLayoutId(r,s[0].layoutId);if(e){const t=r.widgets[e];if(t&&t.manifest&&t.manifest.name&&"list"===t.manifest.name){const e=(0,g.getAppStore)().getState().widgetsState&&(0,g.getAppStore)().getState().widgetsState[t.id]&&(0,g.getAppStore)().getState().widgetsState[t.id].builderStatus;if(e){const o=h.searchUtils.findLayoutId(t.layouts[e],i,r.mainSizeMode),l=s.find((e=>e.layoutId===o));n(g.appActions.selectionChanged(l))}}}}else s.length>0&&n(g.appActions.selectionChanged(s[0]))}(e)},selectionInList:(e,t,o,n=!0)=>{if(!e||!e.layoutItemId||!e.layoutId)return!1;let i;return n?i=h.searchUtils.getRelatedLayoutItemsInWidgetByLayoutInfo(o,e,t,(0,g.getAppStore)().getState().browserSizeMode):(i=[],i.push(...h.searchUtils.getRelatedLayoutItemsInWidgetByLayoutInfo(o,e,t,g.BrowserSizeMode.Large)),i.push(...h.searchUtils.getRelatedLayoutItemsInWidgetByLayoutInfo(o,e,t,g.BrowserSizeMode.Medium)),i.push(...h.searchUtils.getRelatedLayoutItemsInWidgetByLayoutInfo(o,e,t,g.BrowserSizeMode.Small))),i.length>0}}})(),d})())}}}));