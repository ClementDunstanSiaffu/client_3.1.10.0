/*! For license information please see widget.js.LICENSE.txt */
System.register(["jimu-core","jimu-core/react","jimu-core/react-dom","esri/Graphic","esri/layers/GraphicsLayer","esri/symbols/PictureMarkerSymbol","esri/geometry/Circle","esri/geometry/Point","esri/widgets/Search","jimu-arcgis"],(function(e,t){var o={},r={},n={},s={},i={},a={},l={},c={},p={},d={};return{setters:[function(e){o.React=e.React,o.SessionManager=e.SessionManager,o.css=e.css,o.jsx=e.jsx},function(e){r.default=e.default},function(e){n.default=e.default},function(e){s.default=e.default},function(e){i.default=e.default},function(e){a.default=e.default},function(e){l.default=e.default},function(e){c.default=e.default},function(e){p.default=e.default},function(e){d.JimuMapViewComponent=e.JimuMapViewComponent}],execute:function(){e((()=>{var e,t,u,h,g={50337:(e,t,o)=>{"use strict";o.d(t,{H:()=>C,b:()=>Y,c:()=>P,g:()=>M,h:()=>w,p:()=>p,r:()=>K});let r,n,s=!1,i=!1;const a="undefined"!=typeof window?window:{},l=a.document||{head:{}},c={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,o,r)=>e.addEventListener(t,o,r),rel:(e,t,o,r)=>e.removeEventListener(t,o,r),ce:(e,t)=>new CustomEvent(e,t)},p=e=>Promise.resolve(e),d=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replace}catch(e){}return!1})(),u=(e,t,o,r)=>{o&&o.map((([o,r,n])=>{const s=g(e,o),i=h(t,n),a=f(o);c.ael(s,r,i,a),(t.$rmListeners$=t.$rmListeners$||[]).push((()=>c.rel(s,r,i,a)))}))},h=(e,t)=>o=>{try{256&e.$flags$?e.$lazyInstance$[t](o):(e.$queuedListeners$=e.$queuedListeners$||[]).push([t,o])}catch(e){_(e)}},g=(e,t)=>8&t?a:e,f=e=>0!=(2&e),m=new WeakMap,y=(e,t)=>"sc-"+e.$tagName$,$={},b=e=>"object"==(e=typeof e)||"function"===e,w=(e,t,...o)=>{let r=null,n=!1,s=!1,i=[];const a=t=>{for(let o=0;o<t.length;o++)r=t[o],Array.isArray(r)?a(r):null!=r&&"boolean"!=typeof r&&((n="function"!=typeof e&&!b(r))&&(r=String(r)),n&&s?i[i.length-1].$text$+=r:i.push(n?S(null,r):r),s=n)};if(a(o),t){const e=t.className||t.class;e&&(t.class="object"!=typeof e?e:Object.keys(e).filter((t=>e[t])).join(" "))}const l=S(e,null);return l.$attrs$=t,i.length>0&&(l.$children$=i),l},S=(e,t)=>({$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null,$attrs$:null}),C={},v=(e,t,o,r,n,s)=>{if(o!==r){let i=Q(e,t);if(t.toLowerCase(),"class"===t){const t=e.classList,n=x(o),s=x(r);t.remove(...n.filter((e=>e&&!s.includes(e)))),t.add(...s.filter((e=>e&&!n.includes(e))))}else{const a=b(r);if((i||a&&null!==r)&&!n)try{if(e.tagName.includes("-"))e[t]=r;else{let n=null==r?"":r;"list"===t?i=!1:null!=o&&e[t]==n||(e[t]=n)}}catch(e){}null==r||!1===r?!1===r&&""!==e.getAttribute(t)||e.removeAttribute(t):(!i||4&s||n)&&!a&&(r=!0===r?"":r,e.setAttribute(t,r))}}},A=/\s/,x=e=>e?e.split(A):[],L=(e,t,o,r)=>{const n=11===t.$elm$.nodeType&&t.$elm$.host?t.$elm$.host:t.$elm$,s=e&&e.$attrs$||$,i=t.$attrs$||$;for(r in s)r in i||v(n,r,s[r],void 0,o,t.$flags$);for(r in i)v(n,r,s[r],i[r],o,t.$flags$)},R=(e,t,o,n)=>{let i,a,c=t.$children$[o],p=0;if(s||(s="svg"===c.$tag$),i=c.$elm$=l.createElementNS(s?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",c.$tag$),s&&"foreignObject"===c.$tag$&&(s=!1),L(null,c,s),null!=r&&i["s-si"]!==r&&i.classList.add(i["s-si"]=r),c.$children$)for(p=0;p<c.$children$.length;++p)a=R(e,c,p),a&&i.appendChild(a);return"svg"===c.$tag$?s=!1:"foreignObject"===i.tagName&&(s=!0),i},O=(e,t,o,r,s,i)=>{let a,l=e;for(l.shadowRoot&&l.tagName===n&&(l=l.shadowRoot);s<=i;++s)r[s]&&(a=R(null,o,s),a&&(r[s].$elm$=a,l.insertBefore(a,t)))},k=(e,t,o,r,n)=>{for(;t<=o;++t)(r=e[t])&&r.$elm$.remove()},E=(e,t)=>e.$tag$===t.$tag$,j=(e,t)=>{const o=t.$elm$=e.$elm$,r=e.$children$,n=t.$children$,i=t.$tag$;s="svg"===i||"foreignObject"!==i&&s,"slot"===i||L(e,t,s),null!==r&&null!==n?((e,t,o,r)=>{let n,s=0,i=0,a=t.length-1,l=t[0],c=t[a],p=r.length-1,d=r[0],u=r[p];for(;s<=a&&i<=p;)null==l?l=t[++s]:null==c?c=t[--a]:null==d?d=r[++i]:null==u?u=r[--p]:E(l,d)?(j(l,d),l=t[++s],d=r[++i]):E(c,u)?(j(c,u),c=t[--a],u=r[--p]):E(l,u)?(j(l,u),e.insertBefore(l.$elm$,c.$elm$.nextSibling),l=t[++s],u=r[--p]):E(c,d)?(j(c,d),e.insertBefore(c.$elm$,l.$elm$),c=t[--a],d=r[++i]):(n=R(t&&t[i],o,i),d=r[++i],n&&l.$elm$.parentNode.insertBefore(n,l.$elm$));s>a?O(e,null==r[p+1]?null:r[p+1].$elm$,o,r,i,p):i>p&&k(t,s,a)})(o,r,t,n):null!==n?O(o,null,t,n,0,n.length-1):null!==r&&k(r,0,r.length-1),s&&"svg"===i&&(s=!1)},M=e=>X(e).$hostElement$,P=(e,t,o)=>{const r=M(e);return{emit:e=>H(r,t,{bubbles:!!(4&o),composed:!!(2&o),cancelable:!!(1&o),detail:e})}},H=(e,t,o)=>{const r=c.ce(t,o);return e.dispatchEvent(r),r},I=(e,t)=>{t&&!e.$onRenderResolve$&&t["s-p"]&&t["s-p"].push(new Promise((t=>e.$onRenderResolve$=t)))},B=(e,t)=>{if(e.$flags$|=16,!(4&e.$flags$))return I(e,e.$ancestorComponent$),le((()=>N(e,t)));e.$flags$|=512},N=(e,t)=>{const o=(e.$cmpMeta$.$tagName$,()=>{}),r=e.$lazyInstance$;let n;return t&&(e.$flags$|=256,e.$queuedListeners$&&(e.$queuedListeners$.map((([e,t])=>W(r,e,t))),e.$queuedListeners$=null),n=W(r,"componentWillLoad")),o(),F(n,(()=>T(e,r,t)))},T=async(e,t,o)=>{const r=e.$hostElement$,n=(e.$cmpMeta$.$tagName$,()=>{}),s=r["s-rc"];o&&(e=>{const t=e.$cmpMeta$,o=e.$hostElement$,r=t.$flags$,n=(t.$tagName$,()=>{}),s=((e,t,o,r)=>{let n=y(t),s=te.get(n);if(e=11===e.nodeType?e:l,s)if("string"==typeof s){e=e.head||e;let t,o=m.get(e);o||m.set(e,o=new Set),o.has(n)||(t=l.createElement("style"),t.innerHTML=s,e.insertBefore(t,e.querySelector("link")),o&&o.add(n))}else e.adoptedStyleSheets.includes(s)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,s]);return n})(o.shadowRoot?o.shadowRoot:o.getRootNode(),t);10&r&&(o["s-sc"]=s,o.classList.add(s+"-h")),n()})(e);const i=(e.$cmpMeta$.$tagName$,()=>{});z(e,t),s&&(s.map((e=>e())),r["s-rc"]=void 0),i(),n();{const t=r["s-p"],o=()=>V(e);0===t.length?o():(Promise.all(t).then(o),e.$flags$|=4,t.length=0)}},z=(e,t,o)=>{try{t=t.render(),e.$flags$&=-17,e.$flags$|=2,((e,t)=>{const o=e.$hostElement$,s=e.$vnode$||S(null,null),i=(a=t)&&a.$tag$===C?t:w(null,null,t);var a;n=o.tagName,i.$tag$=null,i.$flags$|=4,e.$vnode$=i,i.$elm$=s.$elm$=o.shadowRoot||o,r=o["s-sc"],j(s,i)})(e,t)}catch(t){_(t,e.$hostElement$)}return null},V=e=>{e.$cmpMeta$.$tagName$;const t=e.$hostElement$,o=e.$lazyInstance$,r=e.$ancestorComponent$;64&e.$flags$||(e.$flags$|=64,G(t),W(o,"componentDidLoad"),e.$onReadyResolve$(t),r||U()),e.$onInstanceResolve$(t),e.$onRenderResolve$&&(e.$onRenderResolve$(),e.$onRenderResolve$=void 0),512&e.$flags$&&ae((()=>B(e,!1))),e.$flags$&=-517},U=e=>{G(l.documentElement),ae((()=>H(a,"appload",{detail:{namespace:"stencil-components"}})))},W=(e,t,o)=>{if(e&&e[t])try{return e[t](o)}catch(e){_(e)}},F=(e,t)=>e&&e.then?e.then(t):t(),G=e=>e.classList.add("hydrated"),q=(e,t,o)=>{if(t.$members$){e.watchers&&(t.$watchers$=e.watchers);const r=Object.entries(t.$members$),n=e.prototype;if(r.map((([e,[r]])=>{31&r||2&o&&32&r?Object.defineProperty(n,e,{get(){return t=e,X(this).$instanceValues$.get(t);var t},set(o){((e,t,o,r)=>{const n=X(e),s=n.$hostElement$,i=n.$instanceValues$.get(t),a=n.$flags$,l=n.$lazyInstance$;var c,p;if(c=o,p=r.$members$[t][0],o=null==c||b(c)?c:4&p?"false"!==c&&(""===c||!!c):2&p?parseFloat(c):1&p?String(c):c,!(8&a&&void 0!==i||o===i)&&(n.$instanceValues$.set(t,o),l)){if(r.$watchers$&&128&a){const e=r.$watchers$[t];e&&e.map((e=>{try{l[e](o,i,t)}catch(e){_(e,s)}}))}2==(18&a)&&B(n,!1)}})(this,e,o,t)},configurable:!0,enumerable:!0}):1&o&&64&r&&Object.defineProperty(n,e,{value(...t){const o=X(this);return o.$onInstancePromise$.then((()=>o.$lazyInstance$[e](...t)))}})})),1&o){const t=new Map;n.attributeChangedCallback=function(e,o,r){c.jmp((()=>{const o=t.get(e);if(this.hasOwnProperty(o))r=this[o],delete this[o];else if(n.hasOwnProperty(o)&&"number"==typeof this[o]&&this[o]==r)return;this[o]=(null!==r||"boolean"!=typeof this[o])&&r}))},e.observedAttributes=r.filter((([e,t])=>15&t[0])).map((([e,o])=>{const r=o[1]||e;return t.set(r,e),r}))}}return e},Y=(e,t={})=>{const o=[],r=t.exclude||[],n=a.customElements,s=l.head,i=s.querySelector("meta[charset]"),p=l.createElement("style"),h=[];let g,f=!0;Object.assign(c,t),c.$resourcesUrl$=new URL(t.resourcesUrl||"./",l.baseURI).href,e.map((e=>{e[1].map((t=>{const s={$flags$:t[0],$tagName$:t[1],$members$:t[2],$listeners$:t[3]};s.$members$=t[2],s.$listeners$=t[3],s.$watchers$={};const i=s.$tagName$,a=class extends HTMLElement{constructor(e){super(e),D(e=this,s),1&s.$flags$&&e.attachShadow({mode:"open"})}connectedCallback(){g&&(clearTimeout(g),g=null),f?h.push(this):c.jmp((()=>(e=>{if(0==(1&c.$flags$)){const t=X(e),o=t.$cmpMeta$,r=(o.$tagName$,()=>{});if(1&t.$flags$)u(e,t,o.$listeners$);else{t.$flags$|=1;{let o=e;for(;o=o.parentNode||o.host;)if(o["s-p"]){I(t,t.$ancestorComponent$=o);break}}o.$members$&&Object.entries(o.$members$).map((([t,[o]])=>{if(31&o&&e.hasOwnProperty(t)){const o=e[t];delete e[t],e[t]=o}})),(async(e,t,o,r,n)=>{if(0==(32&t.$flags$)){{if(t.$flags$|=32,(n=ee(o)).then){const e=()=>{};n=await n,e()}n.isProxied||(o.$watchers$=n.watchers,q(n,o,2),n.isProxied=!0);const e=(o.$tagName$,()=>{});t.$flags$|=8;try{new n(t)}catch(e){_(e)}t.$flags$&=-9,t.$flags$|=128,e()}if(n.style){let e=n.style;const t=y(o);if(!te.has(t)){const r=(o.$tagName$,()=>{});((e,t,o)=>{let r=te.get(e);d&&o?(r=r||new CSSStyleSheet,r.replace(t)):r=t,te.set(e,r)})(t,e,!!(1&o.$flags$)),r()}}}const s=t.$ancestorComponent$,i=()=>B(t,!0);s&&s["s-rc"]?s["s-rc"].push(i):i()})(0,t,o)}r()}})(this)))}disconnectedCallback(){c.jmp((()=>(e=>{if(0==(1&c.$flags$)){const t=X(e);t.$rmListeners$&&(t.$rmListeners$.map((e=>e())),t.$rmListeners$=void 0)}})(this)))}componentOnReady(){return X(this).$onReadyPromise$}};s.$lazyBundleId$=e[0],r.includes(i)||n.get(i)||(o.push(i),n.define(i,q(a,s,1)))}))})),p.innerHTML=o+"{visibility:hidden}.hydrated{visibility:inherit}",p.setAttribute("data-styles",""),s.insertBefore(p,i?i.nextSibling:s.firstChild),f=!1,h.length?h.map((e=>e.connectedCallback())):c.jmp((()=>g=setTimeout(U,30)))},Z=new WeakMap,X=e=>Z.get(e),K=(e,t)=>Z.set(t.$lazyInstance$=e,t),D=(e,t)=>{const o={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return o.$onInstancePromise$=new Promise((e=>o.$onInstanceResolve$=e)),o.$onReadyPromise$=new Promise((e=>o.$onReadyResolve$=e)),e["s-p"]=[],e["s-rc"]=[],u(e,o,t.$listeners$),Z.set(e,o)},Q=(e,t)=>t in e,_=(e,t)=>(0,console.error)(e,t),J=new Map,ee=(e,t,r)=>{const n=e.$tagName$.replace(/-/g,"_"),s=e.$lazyBundleId$,i=J.get(s);return i?i[n]:o(23559)(`./${s}.entry.js`).then((e=>(J.set(s,e),e[n])),_)},te=new Map,oe=[],re=[],ne=(e,t)=>o=>{e.push(o),i||(i=!0,t&&4&c.$flags$?ae(ie):c.raf(ie))},se=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(e){_(e)}e.length=0},ie=()=>{se(oe),se(re),(i=oe.length>0)&&c.raf(ie)},ae=e=>p().then(e),le=ne(re,!0)},23559:(e,t,o)=>{var r={"./arcgis-ba-search.entry.js":[32817,2817],"./arcgis-infographic.entry.js":[28079,1065,8079],"./arcgis-report-list.entry.js":[49976,1065,9976],"./report-list-accordion.entry.js":[15982,1065,5982]};function n(e){if(!o.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],n=t[0];return Promise.all(t.slice(1).map(o.e)).then((()=>o(n)))}n.keys=()=>Object.keys(r),n.id=23559,e.exports=n},94129:e=>{"use strict";e.exports=s},68384:e=>{"use strict";e.exports=l},8294:e=>{"use strict";e.exports=c},23852:e=>{"use strict";e.exports=i},46719:e=>{"use strict";e.exports=a},40720:e=>{"use strict";e.exports=p},26826:e=>{"use strict";e.exports=d},48891:e=>{"use strict";e.exports=o},51315:e=>{"use strict";e.exports=r},20800:e=>{"use strict";e.exports=n}},f={};function m(e){var t=f[e];if(void 0!==t)return t.exports;var o=f[e]={exports:{}};return g[e](o,o.exports,m),o.exports}m.m=g,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,m.t=function(o,r){if(1&r&&(o=this(o)),8&r)return o;if("object"==typeof o&&o){if(4&r&&o.__esModule)return o;if(16&r&&"function"==typeof o.then)return o}var n=Object.create(null);m.r(n);var s={};e=e||[null,t({}),t([]),t(t)];for(var i=2&r&&o;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((e=>s[e]=()=>o[e]));return s.default=()=>o,m.d(n,s),n},m.d=(e,t)=>{for(var o in t)m.o(t,o)&&!m.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},m.f={},m.e=e=>Promise.all(Object.keys(m.f).reduce(((t,o)=>(m.f[o](e,t),t)),[])),m.u=e=>6748===e?"widgets/chunks/1e9be1ff2f1fedf7539a2b5885c5a165.js":2214===e?"widgets/chunks/cd58ca796a3cc7d1077aa956503b0ad1.js":2817===e?"widgets/chunks/a7c0988e79c34d923ba4f370283094a3.js":1065===e?"widgets/chunks/8e4d905716f7e8ae4727dbe1ff85b9e4.js":8079===e?"widgets/chunks/29f619ec75797714bf3eb447d4a0e9a3.js":9976===e?"widgets/chunks/ef6a6d2b8039d6670644ea2314fa3274.js":5982===e?"widgets/chunks/ff350d3d352a2a1cda6e72b1bcff7410.js":void 0,m.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),m.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),u={},h="exb-client:",m.l=(e,t,o,r)=>{if(u[e])u[e].push(t);else{var n,s;if(void 0!==o)for(var i=document.getElementsByTagName("script"),a=0;a<i.length;a++){var l=i[a];if(l.getAttribute("src")==e||l.getAttribute("data-webpack")==h+o){n=l;break}}n||(s=!0,(n=document.createElement("script")).charset="utf-8",n.timeout=120,m.nc&&n.setAttribute("nonce",m.nc),n.setAttribute("data-webpack",h+o),n.src=e),u[e]=[t];var c=(t,o)=>{n.onerror=n.onload=null,clearTimeout(p);var r=u[e];if(delete u[e],n.parentNode&&n.parentNode.removeChild(n),r&&r.forEach((e=>e(o))),t)return t(o)},p=setTimeout(c.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=c.bind(null,n.onerror),n.onload=c.bind(null,n.onload),s&&document.head.appendChild(n)}},m.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},m.p="",(()=>{var e={6687:0};m.f.j=(t,o)=>{var r=m.o(e,t)?e[t]:void 0;if(0!==r)if(r)o.push(r[2]);else{var n=new Promise(((o,n)=>r=e[t]=[o,n]));o.push(r[2]=n);var s=m.p+m.u(t),i=new Error;m.l(s,(o=>{if(m.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var n=o&&("load"===o.type?"missing":o.type),s=o&&o.target&&o.target.src;i.message="Loading chunk "+t+" failed.\n("+n+": "+s+")",i.name="ChunkLoadError",i.type=n,i.request=s,r[1](i)}}),"chunk-"+t,t)}};var t=(t,o)=>{var r,n,[s,i,a]=o,l=0;if(s.some((t=>0!==e[t]))){for(r in i)m.o(i,r)&&(m.m[r]=i[r]);a&&a(m)}for(t&&t(o);l<s.length;l++)n=s[l],m.o(e,n)&&e[n]&&e[n][0](),e[n]=0},o=self.webpackChunkexb_client=self.webpackChunkexb_client||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var y={};return m.p=window.jimuConfig.baseUrl,(()=>{"use strict";m.r(y),m.d(y,{default:()=>S});var e=m(48891),t=m(51315),o=m(20800);function r(e,t=document){const o="on"+e;let r=o in t;if(!r){const e=t.createElement("div");e.setAttribute(o,"return;"),r="function"==typeof e[o]}return r}function n(e){const t=new Map;return e.forEach((e=>t.set(e,e))),t}const s=e=>{const s=e.toLowerCase().split("-").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join("");return((e,o)=>{const r=(o,r)=>t.default.createElement(e,Object.assign({},o,{forwardedRef:r}));return r.displayName=o,t.default.forwardRef(r)})(class extends t.default.Component{constructor(e){super(e)}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(e){!function(e,t,o={}){const s=function(e,t,o){const r=n(e),s=n(t.className?t.className.split(" "):[]),i=n(o.className?o.className.split(" "):[]),a=[];return r.forEach((e=>{s.has(e)?(a.push(e),s.delete(e)):i.has(e)||a.push(e)})),s.forEach((e=>a.push(e))),a.join(" ")}(e.classList,t,o);s&&(e.className=s),Object.keys(t).forEach((o=>{if("children"!==o&&"style"!==o&&"ref"!==o&&"className"!==o)if(0===o.indexOf("on")&&o[2]===o[2].toUpperCase()){const n=o.substring(2),s=n[0].toLowerCase()+n.substring(1);r(s)||function(e,t,o){const r=e.__events||(e.__events={}),n=r[t];n&&e.removeEventListener(t,n),null!=o&&e.addEventListener(t,r[t]=function(e){o.call(this,e)})}(e,s,t[o])}else e[o]=t[o]}))}(o.default.findDOMNode(this),this.props,e)}render(){const o=this.props,{children:n,forwardedRef:s,style:i,className:a,ref:l}=o,c=function(e,t){var o={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(o[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(o[r[n]]=e[r[n]])}return o}(o,["children","forwardedRef","style","className","ref"]),p=Object.keys(c).reduce(((e,t)=>{const o=0===t.indexOf("on")&&t[2]===t[2].toUpperCase(),n=0===t.indexOf("data-"),s=0===t.indexOf("aria-");return o?r(t.substring(2).toLowerCase())&&(e[t]=c[t]):(n||s)&&(e[t]=c[t]),e}),{}),d=Object.assign(Object.assign({},p),{ref:s,style:i,className:a});return t.default.createElement(e,d,n)}static get displayName(){return s}},s)};var i=m(50337);!function(){if("undefined"!=typeof window&&void 0!==window.Reflect&&void 0!==window.customElements){var e=HTMLElement;window.HTMLElement=function(){return Reflect.construct(e,[],this.constructor)},HTMLElement.prototype=e.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e)}}(),function(){var e=[];if("undefined"!=typeof window){var t=window;t.customElements&&(!t.Element||t.Element.prototype.closest&&t.Element.prototype.matches&&t.Element.prototype.remove&&t.Element.prototype.getRootNode)||e.push(m.e(6748).then(m.t.bind(m,86462,23))),"function"==typeof Object.assign&&Object.entries&&Array.prototype.find&&Array.prototype.includes&&String.prototype.startsWith&&String.prototype.endsWith&&(!t.NodeList||t.NodeList.prototype.forEach)&&t.fetch&&function(){try{var e=new URL("b","http://a");return e.pathname="c%20d","http://a/c%20d"===e.href&&e.searchParams}catch(e){return!1}}()&&"undefined"!=typeof WeakMap||e.push(m.e(2214).then(m.t.bind(m,70456,23)))}return Promise.all(e)}().then((()=>{return"undefined"==typeof window?Promise.resolve():(0,i.p)().then((()=>(0,i.b)([["arcgis-ba-search",[[1,"arcgis-ba-search"]]],["arcgis-infographic",[[1,"arcgis-infographic",{instanceId:[1,"instance-id"],env:[1],token:[1],username:[1],locationDisplayName:[1,"location-display-name"],langCode:[1,"lang-code"],reportId:[1,"report-id"],theme:[16],bufferType:[1,"buffer-type"],bufferUnits:[1,"buffer-units"],bufferSizes:[1,"buffer-sizes"],viewMode:[1,"view-mode"],reportShowHeader:[4,"report-show-header"],reportHeaderButtonPrint:[4,"report-header-button-print"],reportHeaderButtonZoomLevel:[4,"report-header-button-zoom-level"],reportHeaderButtonExcel:[4,"report-header-button-excel"],reportHeaderButtonFullscreen:[4,"report-header-button-fullscreen"],reportHeaderButtonImage:[4,"report-header-button-image"],reportHeaderButtonPdf:[4,"report-header-button-pdf"],reportHeaderButtonDynHtml:[4,"report-header-button-dyn-html"],reportColorBackground:[1,"report-color-background"],reportColorHeader:[1,"report-color-header"],reportColorHeaderText:[1,"report-color-header-text"],selectedFeatureId:[2,"selected-feature-id"],runReportOnClick:[4,"run-report-on-click"],showSearch:[4,"show-search"],reportLocation:[1,"report-location"],reportGeometry:[1,"report-geometry"],stInstanceId:[32],stEnv:[32],stToken:[32],stUsername:[32],stLocationDisplayName:[32],stLangCode:[32],stReportId:[32],stTheme:[32],stBufferType:[32],stBufferUnits:[32],stBufferSizes:[32],stViewMode:[32],stReportShowHeader:[32],stReportHeaderButtonPrint:[32],stReportHeaderButtonZoomLevel:[32],stReportHeaderButtonFullscreen:[32],stReportHeaderButtonExcel:[32],stReportHeaderButtonImage:[32],stReportHeaderButtonPdf:[32],stReportHeaderButtonDynHtml:[32],stReportColorBackground:[32],stReportColorHeader:[32],stReportColorHeaderText:[32],stSelectedFeatureId:[32],stRunReportOnClick:[32],stShowSearch:[32],stReportLocation:[32],stReportGeometry:[32],generateBuffers:[64],onPropChange:[64]},[[8,"reportSelected","reportSelectedEventHandler"]]]]],["arcgis-report-list",[[1,"arcgis-report-list",{selectedReportId:[1,"selected-report-id"],_counter:[2],_containerId:[1,"_container-id"],token:[1],username:[1],treeInstanceId:[1,"tree-instance-id"]}]]],["report-list-accordion",[[1,"report-list-accordion",{env:[1],token:[1],username:[1],listInstanceId:[1,"list-instance-id"],theme:[1],langCode:[1,"lang-code"],_counter:[2],_containerId:[1,"_container-id"],selectedReportId:[1,"selected-report-id"],stEnv:[32],stToken:[32],stUsername:[32],stListInstanceId:[32],stTheme:[32],stLangCode:[32],stSelectedReportId:[32]}]]]],e)));var e}));const a=s("arcgis-infographic");class l{constructor(){this.fixForLint=""}static log(e,...t){if(l.showDebugConsoleLogs&&(console.log("=======>"+e+": "),t&&t.length))for(let e=0;e<t.length;e++)console.log("...",t[e])}}l.showDebugConsoleLogs=!1;const c=l;var p=m(94129),d=m(23852),u=m(46719),h=m(68384),g=m(8294),f=m(40720);class ${constructor(){c.showDebugConsoleLogs=!1}static hasText(e){return!(null==e)&&"string"==typeof e&&e.length>0&&e.trim().length>0}static registerCallbacks(e,t,o,r,n,s){let i;if(c.log("map-search","registerCallbacks()..."),!(this.hasText(e)&&this.hasText(t)&&o&&s))return void c.log("map-search","map search register callbacks failed - invalid args");const a={widgetId:e,searchResultCallback:r,cleared:n,mapActions:s},l=$.maps[t];if(l){let e;c.log("map-search","associate widget to existing map");for(let t=0;t<l.widgets.length;t++)if(e=l.widgets[t],e.widgetId===a.widgetId)return void(l.widgets[t]=a);l.widgets.push(a)}else{c.log("map-search","Register new widget");const e="baSearch"+Date.now();i={mapWidgetId:t,view:o,map:o.map,graphicsLayer:new d.default({id:e}),searchControl:null,widgets:[a]},i.map.add(i.graphicsLayer);const r=new u.default({width:14,height:26.6,xoffset:0,yoffset:12.6,url:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAjCAYAAAB2KjFhAAACtUlEQVRIS+2WS0wTURSG/zvT0kpfkGJ4pGCViA1Em9CtCQVx5QIWhiVRo8GdSNypqHElkcgOlzVh5ap1X6nEiAkQXzGBxkSKtZC0jdTSB7SdMXdwRjudB+w5q5t7T775z3/OzR0CWbT4x90Glh0CMEx43g1C3FIKz6/zhKwDCJYrldBWZIaupSDiqsE/3mBjmGeMyXLF7GiBubEVhmN2sIY6KblS3kO58BvFX5soZrbA7eYCWY67vR2Z2aZJAoyqMTLMvLXN47a1eeRiUSrmUSrmhHSGNYA11oGtMyO3FcVOYnW9xHH9VKUAcw1MfHSc9HktzvYaEN34B6suymSxCwozsQ+ReHi6n7gG7/iNZvv88W6/Ikgdtl+Y2d6I5NfXqJQK/cQ1MPHQ1uZ5oFSeSFdWtn9Ky93b/olsYvURhUWcXef7TPamGmWXfM3oPeVAi8OIeDKLpWgSrxY3qvIY1gjCl5GOvn2jCLOaWUyN9sDX6aj5wNJaErdm3yNbKAlnurCp0W709ThVPQy+i+H+ixV92OlWC+bGe1VB4sHlx2GsxTPayqhPkyNdurB7gRWEFmPasBsXT+D6YIcu7MnLz5gLf9OG0e7Njp3ThV2bXsBSNKUNo518ftML6p1aUK+oZwfqJgVRIAXLg47E1acLgvkHgtGk1kYTJkfOCEMrxnI0hbuBZSTSeWlPd87kaprqeWwkUopVHxqmdTePYMqTdeRZ9d1svzARtLnODlmbO1XvoqpnhMBkaUAhHUM2/iVE6ONrZZjIoZ+6v6BiZhOZ7yufdjjOL7ybesAaZQog+qpX/R6oKayCqYCoKAmmpVCCaYBqYGpAAbabF8z+3yPxh0XsXJUycVPuYWm3IIyAFkhRmRowl/4hdU2uSFOZHFjv7PDm0xtC+9VAmspkwOAOxw1rgWj+H4uVH6hj08HSAAAAAElFTkSuQmCC"});i.searchControl=new f.default({view:i.view,popupEnabled:!1,sources:[{url:"https://geocode-api.arcgis.com/arcgis/rest/services/World/GeocodeServer",singleLineFieldName:"SingleLine",outFields:["Addr_type","Match_addr","StAddr","City"],name:"ArcGIS World Geocoding Service",placeholder:"Find address or place",resultSymbol:r}]}),i.searchControl.viewModel.includeDefaultSources=!1,i.view.ui.add(i.searchControl,{position:"top-right"}),i.searchControl.on("search-clear",(function(e){i.graphicsLayer.removeAll(),$.notifyClear(i)})),i.searchControl.on("select-result",(function(e){c.log("MapSearch","ON SEARCH RESULTS...");const t=e.result.extent.center;c.log("MapSearch","clearing GraphicsLayer"),i.graphicsLayer.removeAll(),c.log("MapSearch","SEARCH_RESULT= ",e),c.log("MapSearch","name=",e.result.name),c.log("MapSearch","Location=",t.latitude,t.longitude);const o=new p.default({symbol:{type:"simple-fill",color:[51,51,204,.15],style:"solid",outline:{color:"blue",width:1}}});c.log("MapSearch","adding search result graphic=",o),i.graphicsLayer.add(o);const r={type:"point",latitude:t.latitude,longitude:t.longitude,displayName:e.result.name};$.notifySearchResults(i,r)})),$.maps[t]=i}return i&&i.searchControl?i.searchControl:null}static notifyClear(e){c.log("MapSearch","notify Search Cleared for "+e.widgets.length+" widgets");for(let t=0;t<e.widgets.length;t++){const o=e.widgets[t];if(o.cleared)try{o.cleared(o.mapActions)}catch(e){throw new Error("Map Search clear notify failed")}}}static notifySearchResults(e,t){c.log("MapSearch","notify SR for "+e.widgets.length);for(let o=0;o<e.widgets.length;o++){const r=e.widgets[o];if(c.log("MapSearch","widget"+o+" =",r),r.searchResultCallback)try{r.searchResultCallback(t,r.mapActions)}catch(e){throw new Error("Map Search clear notify failed")}}}}$.maps={};class b{constructor(e,t,o,r,n){this.ignorePropChanges=!1,this._allowPropChanges=this._debounce((function(){this.ignorePropChanges=!1}),1e3,!1),c.showDebugConsoleLogs=!1,c.log("map-actions","constructor"),this.widgetId=e,this.mapWidgetId=t,this.showSearch=void 0===o||o,this.runReportOnClick=!1,this.bufferType="ring",this.bufferSizes=[1],this.bufferSizesString="1",this.units="miles",this.context=n,this.callback=r,this.colors=[{color:[245,172,70,.4],outline:{color:[204,50,2,.7],width:1}},{color:[70,178,121,.3],outline:{color:[70,178,121,.7],width:1}},{color:[120,144,173,.3],outline:{color:[17,59,143,.7],width:1}}]}setReportOnClick(e){this.runReportOnClick=e}updateMap(){this.ignorePropChanges?c.log("map-actions","updateMap ignored prop change"):(this.syncSettings(),this.render(this.context.infographicLatitude,this.context.infographicLongitude,!1))}_debounce(e,t,o){let r;return function(){const n=this,s=arguments,i=function(){r=null,o||e.apply(n,s)},a=o&&!r;clearTimeout(r),r=setTimeout(i,t),a&&e.apply(n,s)}}syncSettings(){this.context.getConfigVals();const e=[];this.context.bufferSizes.split(",").forEach((t=>{e.push(parseFloat(t))})),this.bufferSizes=e,this.bufferSizesString=this.context.bufferSizes,this.bufferType=this.context.bufferType,this.units=this.context.bufferUnits,this.settingsLatitude=this.context.infographicLatitude,this.settingsLongitude=this.context.infographicLongitude}initialize(e){if(c.log("map-actions","initialize()..."),!e)throw new Error("BA map actions initialize: invalid view");if(this.view)return;const t=this;t.map=e.map,t.view=e;const o="baGraphics"+Date.now();t.graphicsLayer=new d.default({id:o}),t.map.add(t.graphicsLayer),new u.default({width:14,height:26.6,xoffset:0,yoffset:12.6,url:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAjCAYAAAB2KjFhAAACtUlEQVRIS+2WS0wTURSG/zvT0kpfkGJ4pGCViA1Em9CtCQVx5QIWhiVRo8GdSNypqHElkcgOlzVh5ap1X6nEiAkQXzGBxkSKtZC0jdTSB7SdMXdwRjudB+w5q5t7T775z3/OzR0CWbT4x90Glh0CMEx43g1C3FIKz6/zhKwDCJYrldBWZIaupSDiqsE/3mBjmGeMyXLF7GiBubEVhmN2sIY6KblS3kO58BvFX5soZrbA7eYCWY67vR2Z2aZJAoyqMTLMvLXN47a1eeRiUSrmUSrmhHSGNYA11oGtMyO3FcVOYnW9xHH9VKUAcw1MfHSc9HktzvYaEN34B6suymSxCwozsQ+ReHi6n7gG7/iNZvv88W6/Ikgdtl+Y2d6I5NfXqJQK/cQ1MPHQ1uZ5oFSeSFdWtn9Ky93b/olsYvURhUWcXef7TPamGmWXfM3oPeVAi8OIeDKLpWgSrxY3qvIY1gjCl5GOvn2jCLOaWUyN9sDX6aj5wNJaErdm3yNbKAlnurCp0W709ThVPQy+i+H+ixV92OlWC+bGe1VB4sHlx2GsxTPayqhPkyNdurB7gRWEFmPasBsXT+D6YIcu7MnLz5gLf9OG0e7Njp3ThV2bXsBSNKUNo518ftML6p1aUK+oZwfqJgVRIAXLg47E1acLgvkHgtGk1kYTJkfOCEMrxnI0hbuBZSTSeWlPd87kaprqeWwkUopVHxqmdTePYMqTdeRZ9d1svzARtLnODlmbO1XvoqpnhMBkaUAhHUM2/iVE6ONrZZjIoZ+6v6BiZhOZ7yufdjjOL7ybesAaZQog+qpX/R6oKayCqYCoKAmmpVCCaYBqYGpAAbabF8z+3yPxh0XsXJUycVPuYWm3IIyAFkhRmRowl/4hdU2uSFOZHFjv7PDm0xtC+9VAmspkwOAOxw1rgWj+H4uVH6hj08HSAAAAAElFTkSuQmCC"}),t.showSearch&&(t.searchControl=$.registerCallbacks(t.widgetId,t.mapWidgetId,t.view,(function(e,o){return r=this,n=void 0,i=function*(){t.ignorePropChanges=!0,t.settingsLatitude=t.context.infographicLatitude=e.latitude,t.settingsLongitude=t.context.infographicLongitude=e.longitude,c.log("map-actions","onReceivedSearchResults =",e,o),t.render(e.latitude,e.longitude,!0)},new((s=void 0)||(s=Promise))((function(e,t){function o(e){try{l(i.next(e))}catch(e){t(e)}}function a(e){try{l(i.throw(e))}catch(e){t(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof s?r:new s((function(e){e(r)}))).then(o,a)}l((i=i.apply(r,n||[])).next())}));var r,n,s,i}),(function(e){t.ignorePropChanges=!0,t.settingsLatitude=t.context.infographicLatitude=void 0,t.settingsLongitude=t.context.infographicLongitude=void 0;const o="#"+e.context.props.id;t.graphicsLayer.removeAll();const r=document.querySelector(o);r&&(r.setAttribute("report-geometry",""),r.setAttribute("report-location",""))}),t)),t.view.on("click",(e=>{if(t.runReportOnClick){function o(){t.view.hitTest(e,{}).then((function(o){if(o.results.length<=0||!function(o){let r,n;if(o.results.length>0){for(let e=0;e<o.results.length;e++){const t=o.results[e].graphic;if(t.geometry)switch(t.geometry.type){case"polygon":n||(n=[e,t]);break;case"point":r||(r=[e,t])}}if(r)try{!function(e,o){const r=o[1],n=r.attributes,s=r.geometry.latitude,i=r.geometry.longitude;t.ignorePropChanges=!0,t.settingsLatitude=t.context.infographicLatitude=s,t.settingsLongitude=t.context.infographicLongitude=i,t.callback&&t.callback({type:"point",latitude:s,longitude:i,displayName:n.name||""},t.context)}(0,r)}catch(e){console.log(e)}else{if(!n)return!1;try{!function(o,r){const n=e.mapPoint.latitude,s=e.mapPoint.longitude;t.ignorePropChanges=!0,t.settingsLatitude=t.context.infographicLatitude=n,t.settingsLongitude=t.context.infographicLongitude=s,t.callback&&t.callback({latitude:n,longitude:s,type:"polygon",rings:r[1].geometry.rings,spatial:r[1].geometry.spatialReference,displayName:""},t.context)}(0,n)}catch(e){console.log(e)}}return!0}return!1}(o)){const o=t.view.toMap({x:e.x,y:e.y});t.ignorePropChanges=!0,t.settingsLatitude=t.context.infographicLatitude=o.latitude,t.settingsLongitude=t.context.infographicLongitude=o.longitude,t.render.call(t,o.latitude,o.longitude,!0)}}))}c.log("map-actions","onMapClick()..."),t.graphicsLayer.removeAll(),t.searchControl&&(t.searchControl.searchTerm=""),setTimeout(o,0)}})),t.context.infographicLatitude&&t.context.infographicLongitude&&t.render(t.context.infographicLatitude,t.context.infographicLongitude,!1)}drawRings(e,t){let o;c.log("drawRings","Rendering map graphics, rings= "+this.bufferSizes.length);for(let r=this.bufferSizes.length-1;r>=0;r--){const n=new h.default({center:[t,e],geodesic:!0,numberOfPoints:64,radiusUnit:this.units,radius:this.bufferSizes[r]}),s={type:"simple-fill",color:this.colors[r].color,style:"solid",outline:this.colors[r].outline},i=new p.default({geometry:n,symbol:s});o||(o=i),this.graphicsLayer.add(i)}this.view.goTo(o.geometry)}render(e,t,o){const r=this;this.syncSettings(),o||this.graphicsLayer.removeAll();const n="#"+this.context.props.id,s=document.querySelector(n);if(s)if("ring"===this.bufferType){"minutes"===this.context.bufferUnits&&(this.units=this.context.bufferUnits="miles"),r.view.center=[t,e],r.view.zoom=10,this.drawRings(e,t);const o=new u.default({width:14,height:26.6,xoffset:0,yoffset:12.6,url:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAjCAYAAAB2KjFhAAACtUlEQVRIS+2WS0wTURSG/zvT0kpfkGJ4pGCViA1Em9CtCQVx5QIWhiVRo8GdSNypqHElkcgOlzVh5ap1X6nEiAkQXzGBxkSKtZC0jdTSB7SdMXdwRjudB+w5q5t7T775z3/OzR0CWbT4x90Glh0CMEx43g1C3FIKz6/zhKwDCJYrldBWZIaupSDiqsE/3mBjmGeMyXLF7GiBubEVhmN2sIY6KblS3kO58BvFX5soZrbA7eYCWY67vR2Z2aZJAoyqMTLMvLXN47a1eeRiUSrmUSrmhHSGNYA11oGtMyO3FcVOYnW9xHH9VKUAcw1MfHSc9HktzvYaEN34B6suymSxCwozsQ+ReHi6n7gG7/iNZvv88W6/Ikgdtl+Y2d6I5NfXqJQK/cQ1MPHQ1uZ5oFSeSFdWtn9Ky93b/olsYvURhUWcXef7TPamGmWXfM3oPeVAi8OIeDKLpWgSrxY3qvIY1gjCl5GOvn2jCLOaWUyN9sDX6aj5wNJaErdm3yNbKAlnurCp0W709ThVPQy+i+H+ixV92OlWC+bGe1VB4sHlx2GsxTPayqhPkyNdurB7gRWEFmPasBsXT+D6YIcu7MnLz5gLf9OG0e7Njp3ThV2bXsBSNKUNo518ftML6p1aUK+oZwfqJgVRIAXLg47E1acLgvkHgtGk1kYTJkfOCEMrxnI0hbuBZSTSeWlPd87kaprqeWwkUopVHxqmdTePYMqTdeRZ9d1svzARtLnODlmbO1XvoqpnhMBkaUAhHUM2/iVE6ONrZZjIoZ+6v6BiZhOZ7yufdjjOL7ybesAaZQog+qpX/R6oKayCqYCoKAmmpVCCaYBqYGpAAbabF8z+3yPxh0XsXJUycVPuYWm3IIyAFkhRmRowl/4hdU2uSFOZHFjv7PDm0xtC+9VAmspkwOAOxw1rgWj+H4uVH6hj08HSAAAAAElFTkSuQmCC"}),n=new g.default({longitude:t,latitude:e,spatialReference:r.map.spatialReference}),i=new p.default({geometry:n,symbol:o});this.graphicsLayer.add(i),s.setAttribute("report-geometry","");const a=t+", "+e;s.setAttribute("report-location",a),r._allowPropChanges()}else s.generateBuffers(this.bufferType,this.bufferSizesString,this.units,e.toString(),t.toString()).then((function(o){if(!o||o.error)console.log("map actions generateBuffers: ",o.error);else if(o.length>0){let e;for(let t=o.length-1;t>=0;t--){const n={type:"polygon",rings:o[t].rings[0]},s={type:"simple-fill",color:r.colors[t].color,outline:r.colors[t].outline},i=new p.default({geometry:n,symbol:s});r.graphicsLayer.add(i),e||(e=i)}r.view.goTo(e.geometry)}const n=new u.default({width:14,height:26.6,xoffset:0,yoffset:12.6,url:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAjCAYAAAB2KjFhAAACtUlEQVRIS+2WS0wTURSG/zvT0kpfkGJ4pGCViA1Em9CtCQVx5QIWhiVRo8GdSNypqHElkcgOlzVh5ap1X6nEiAkQXzGBxkSKtZC0jdTSB7SdMXdwRjudB+w5q5t7T775z3/OzR0CWbT4x90Glh0CMEx43g1C3FIKz6/zhKwDCJYrldBWZIaupSDiqsE/3mBjmGeMyXLF7GiBubEVhmN2sIY6KblS3kO58BvFX5soZrbA7eYCWY67vR2Z2aZJAoyqMTLMvLXN47a1eeRiUSrmUSrmhHSGNYA11oGtMyO3FcVOYnW9xHH9VKUAcw1MfHSc9HktzvYaEN34B6suymSxCwozsQ+ReHi6n7gG7/iNZvv88W6/Ikgdtl+Y2d6I5NfXqJQK/cQ1MPHQ1uZ5oFSeSFdWtn9Ky93b/olsYvURhUWcXef7TPamGmWXfM3oPeVAi8OIeDKLpWgSrxY3qvIY1gjCl5GOvn2jCLOaWUyN9sDX6aj5wNJaErdm3yNbKAlnurCp0W709ThVPQy+i+H+ixV92OlWC+bGe1VB4sHlx2GsxTPayqhPkyNdurB7gRWEFmPasBsXT+D6YIcu7MnLz5gLf9OG0e7Njp3ThV2bXsBSNKUNo518ftML6p1aUK+oZwfqJgVRIAXLg47E1acLgvkHgtGk1kYTJkfOCEMrxnI0hbuBZSTSeWlPd87kaprqeWwkUopVHxqmdTePYMqTdeRZ9d1svzARtLnODlmbO1XvoqpnhMBkaUAhHUM2/iVE6ONrZZjIoZ+6v6BiZhOZ7yufdjjOL7ybesAaZQog+qpX/R6oKayCqYCoKAmmpVCCaYBqYGpAAbabF8z+3yPxh0XsXJUycVPuYWm3IIyAFkhRmRowl/4hdU2uSFOZHFjv7PDm0xtC+9VAmspkwOAOxw1rgWj+H4uVH6hj08HSAAAAAElFTkSuQmCC"}),s=new g.default({longitude:t,latitude:e,spatialReference:r.map.spatialReference}),i=new p.default({geometry:s,symbol:n});r.graphicsLayer.add(i),r._allowPropChanges()}),(function(e){console.log(e)}))}}var w=m(26826);class S extends e.React.PureComponent{constructor(e){super(e),this.getConfigVals(),this.syncId="baSync"+Date.now(),this.stencilPropChangeConnected=!1,c.showDebugConsoleLogs=!0}componentWillMount(){e.SessionManager.getInstance().getMainSession()||this.promptSignIn()}componentDidMount(){if(c.log("componentDidMount()..."),!this.stencilPropChangeConnected){const e="#"+this.props.id,t=document.querySelector(e);c.log("componentDidMount","assigning onPropChange to element",e),t&&(t.onPropChange(this.onSettingChanged,this),this.stencilPropChangeConnected=!0)}window.addEventListener("message",(e=>{const t="#"+this.props.id,o=document.querySelector(t),r=o.shadowRoot.querySelector(".arcgisInfographicFrame");o&&"fullscreen-enter"===e.data.action&&e.data.componentId===this.props.id?r.requestFullscreen?r.requestFullscreen():r.webkitRequestFullscreen?r.webkitRequestFullscreen():r.mozRequestFullScreen?r.mozRequestFullScreen():r.msRequestFullscreen&&r.msRequestFullscreen():o&&"fullscreen-exit"===e.data.action&&e.data.componentId===this.props.id&&(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen())}))}promptSignIn(){e.SessionManager.getInstance().signIn()}onSettingChanged(e,t){if(c.log("ba-infographic","onSettingChanged"),!e.mapActions||!e.mapActions.ignorePropChanges){const o=t.split(",");e.infographicLatitude=parseFloat(o[1]),e.infographicLongitude=parseFloat(o[0]),e.mapActions&&e.mapActions.updateMap()}}onMapChanges(e,t){const o="#"+t.props.id,r=document.querySelector(o);switch(e.type){case"point":{const o=e.latitude,n=e.longitude;t.mapActions.render(o,n,!1);const s=n+", "+o;t.infographicLatitude=t.settingsLatitude=o,t.infographicLongitude=t.settingsLongitude=n,r&&(r.setAttribute("report-geometry",""),r.setAttribute("report-location",s));break}case"polygon":{const o=e.latitude,n=e.longitude;if(t.infographicLatitude=t.settingsLatitude=o,t.infographicLongitude=t.settingsLongitude=n,r){const t=JSON.stringify(e);r.setAttribute("report-location",e.longitude.toString()+", "+e.latitude.toString()),r.setAttribute("report-geometry",t)}break}}}activeViewChangeHandler(e,t){c.log("widget","activeViewChangeHandler()...");const o=t;this.jimuMapView=e,e&&e.view&&e.view.when((function(r){o.getConfigVals(),o.mapActions=new b(t.props.id,e.mapWidgetId,o.showSearch,o.onMapChanges,t);const n=o.bufferSizes.split(","),s=[];for(let e=0;e<n.length;e++)s[e]=parseFloat(n[e]);if(o.mapActions.setReportOnClick(o.runReportOnClick),o.mapActions.initialize(e.view),!o.stencilPropChangeConnected){const e="#"+o.props.id,t=document.querySelector(e);c.log("componentWillMount","assigning onPropChange to element",e),t&&(t.onPropChange(o.onSettingChanged,o),o.stencilPropChangeConnected=!0)}}))}buildBufferSizes(){let e=[];return this.isEmpty(this.props.config.bufferSize1)||e.push(this.props.config.bufferSize1),this.isEmpty(this.props.config.bufferSize2)||e.push(this.props.config.bufferSize2),this.isEmpty(this.props.config.bufferSize3)||e.push(this.props.config.bufferSize3),(0===e.length||this.isEmpty(this.props.config.bufferSize1)&&this.isEmpty(this.props.config.bufferSize2)&&this.isEmpty(this.props.config.bufferSize3))&&(e=[1,3,5]),e.toString()}isEmpty(e){if(null==e)return!0;if(e.length>0)return!1;if(0===e.length)return!0;if("object"!=typeof e)return!0;for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}getConfigVals(){this.selectedReport=this.isEmpty(this.props.config.selectedReport)?"b737042ee11d4d19ba938a3ca333e673":this.props.config.selectedReport,this.infographicLatitude=this.isEmpty(this.props.config.infographicLatitude)?"34.057170":this.props.config.infographicLatitude,this.infographicLongitude=this.isEmpty(this.props.config.infographicLongitude)?"-117.194150":this.props.config.infographicLongitude,this.langCode=this.isEmpty(this.props.config.langCode)?"US":this.props.config.langCode,this.viewMode="SMALL"===this.props.browserSizeMode?"stack":this.isEmpty(this.props.config.viewMode)?"full":this.props.config.viewMode,this.bufferType=this.isEmpty(this.props.config.bufferType)?"ring":this.props.config.bufferType,this.bufferSizes=this.buildBufferSizes(),this.bufferUnits=this.isEmpty(this.props.config.bufferUnits)?"miles":this.props.config.bufferUnits,this.displayHeader=!Object.prototype.hasOwnProperty.call(this.props.config,"displayHeader")||this.props.config.displayHeader,this.print=!Object.prototype.hasOwnProperty.call(this.props.config,"print")||this.props.config.print,this.imageExport=!Object.prototype.hasOwnProperty.call(this.props.config,"imageExport")||this.props.config.imageExport,this.excel=!Object.prototype.hasOwnProperty.call(this.props.config,"excel")||this.props.config.excel,this.fullscreen=!Object.prototype.hasOwnProperty.call(this.props.config,"fullscreen")||this.props.config.fullscreen,this.zoomLevel=!Object.prototype.hasOwnProperty.call(this.props.config,"zoomLevel")||this.props.config.zoomLevel,this.dynamicHtml=!Object.prototype.hasOwnProperty.call(this.props.config,"dynamicHtml")||this.props.config.dynamicHtml,this.pdf=!1,this.backgroundColor=this.isEmpty(this.props.config.backgroundColor)?"#525659":this.props.config.backgroundColor,this.headerColor=this.isEmpty(this.props.config.headerColor)?"#0079C1":this.props.config.headerColor,this.headerTextColor=this.isEmpty(this.props.config.headerTextColor)?"#FFFFFF":this.props.config.headerTextColor,this.showSearch=!0,this.runReportOnClick=!Object.prototype.hasOwnProperty.call(this.props.config,"runReportOnClick")||this.props.config.runReportOnClick}render(){var t,o;return this.getConfigVals(),(0,e.jsx)("div",{css:(this.props.theme,e.css`
  .overflow-hidden {
      overflow: hidden
  }

  [calcite-hydrated-hidden] {
      visibility: hidden;
      pointer-events: none
  }

  arcgis-infographic{
      width: 100% !important;
      height: 100% !important;
      overflow: hidden !important;
      /* 16:9 aspect ratio */
      padding-top: 56.25% !important;
      position: relative !important;
  }

  arcgis-infographic iframe {
    border: 0 !important;
    height: 100% !important;
    left: 0 !important;
    position: absolute !important;
    top: 0 !important;
    width: 100% !important;
  }`),className:"widget-infographic-player jimu-widget App"},(null===(t=this.props.user)||void 0===t?void 0:t.username)?(0,e.jsx)(e.React.Fragment,null,(0,e.jsx)(a,{id:this.props.id,instanceId:this.props.id,env:window.jimuConfig.hostEnv,reportId:this.selectedReport,reportLocation:this.infographicLongitude+", "+this.infographicLatitude,username:this.props.user.username,token:this.props.token,langCode:this.langCode,reportShowHeader:this.displayHeader,reportHeaderButtonPrint:this.print,reportHeaderButtonExcel:this.excel,reportHeaderButtonFullscreen:this.fullscreen,reportHeaderButtonZoomLevel:this.zoomLevel,reportHeaderButtonImage:this.imageExport,reportHeaderButtonDynHtml:this.dynamicHtml,reportHeaderButtonPdf:this.pdf,bufferType:this.bufferType,bufferUnits:this.bufferUnits,bufferSizes:this.bufferSizes,reportColorBackground:this.backgroundColor,reportColorHeader:this.headerColor,reportColorHeaderText:this.headerTextColor,viewMode:this.viewMode}),Object.prototype.hasOwnProperty.call(this.props,"useMapWidgetIds")&&this.props.useMapWidgetIds&&1===this.props.useMapWidgetIds.length&&(0,e.jsx)(w.JimuMapViewComponent,{useMapWidgetId:null===(o=this.props.useMapWidgetIds)||void 0===o?void 0:o[0],onActiveViewChange:e=>{this.activeViewChangeHandler(e,this)}})):(0,e.jsx)("div",{className:"esri-directions__sign-in-content"},(0,e.jsx)("div",{className:"esri-widget__heading",role:"heading",style:{marginTop:"0",padding:"0",alignSelf:"flex-start"}},"Business Analyst Infographic (beta)"),(0,e.jsx)("div",{className:"esri-widget__body"},"Your account cannot run the Business Analyst infographic widget.  In order to run the Business Analyst infographic widget, the administrator of your organization needs to grant you GeoEnrichment and Network Analysis ",(0,e.jsx)("a",{href:"http://doc.arcgis.com/en/arcgis-online/reference/roles.htm",target:"_blank"},"privileges"),", and also allocate ",(0,e.jsx)("a",{href:"https://doc.arcgis.com/en/arcgis-online/administer/configure-credits.htm?",target:"_blank"},"credits"),"."),(0,e.jsx)("div",{className:"esri-widget__heading",role:"heading"},"Sign-in required"),(0,e.jsx)("button",{className:"esri-button esri-button--secondary",type:"button",style:{width:"auto"},onClick:()=>this.promptSignIn()},"Sign in")))}}S.mapExtraStateProps=e=>({browserSizeMode:e.browserSizeMode})})(),y})())}}}));