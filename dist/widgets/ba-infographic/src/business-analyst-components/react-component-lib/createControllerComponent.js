var __awaiter=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,s){function o(t){try{c(r.next(t))}catch(t){s(t)}}function p(t){try{c(r.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,p)}c((r=r.apply(t,e||[])).next())}))},__rest=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};import React from"react";import{attachEventProps}from"./utils/attachEventProps";export function createControllerComponent(t,e){const n=`on${t}DidDismiss`;return class extends React.Component{constructor(t){super(t)}static get displayName(){return t}componentDidMount(){return __awaiter(this,void 0,void 0,(function*(){const{isOpen:t}=this.props;t&&this.present()}))}componentDidUpdate(t){return __awaiter(this,void 0,void 0,(function*(){t.isOpen!==this.props.isOpen&&!0===this.props.isOpen&&this.present(t),this.controller&&t.isOpen!==this.props.isOpen&&!1===this.props.isOpen&&(yield this.controller.dismiss())}))}present(t){return __awaiter(this,void 0,void 0,(function*(){const r=this.props,{isOpen:i,onDidDismiss:s}=r,o=__rest(r,["isOpen","onDidDismiss"]),p=Object.assign(Object.assign({},o),{[n]:s});this.controller=yield e.create(Object.assign({},p)),attachEventProps(this.controller,p,t),this.controller.present()}))}render(){return null}}}