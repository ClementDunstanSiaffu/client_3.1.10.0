class n{static notDef(e){return null==e}static isDef(e){return!n.notDef(e)}static hasText(e){return n.isDef(e)&&"string"==typeof e&&e.length>0&&e.trim().length>0}static isNumber(e){return!isNaN(parseFloat(e))&&!isNaN(e-0)}static _hasProperty(e,t){return n.hasText(e[t])}static fixId(e){return!e||e.length<=0?"":"#"===e[0]?e:"#"+e}static parseThemeString(e){return this.hasText(e)?JSON.parse(e):{}}static parseBufferSizes(e){if(null==typeof e)return[1];let t=[];try{if(!this.hasText(e))return[1];{let r=e.split(",");for(let e=0;e<r.length;e++){if(e>=3)continue;let n=parseFloat(r[e]);t.push(n)}}}catch(e){return console.log(e),[1]}return t}}var t=function(){function e(){}return e.getToken=function(){return new Promise((function(t){t(e.token.access_token)}))},e.setToken=function(e,t){e&&e.length>0&&t&&t.length>0&&(this.token.access_token=t,this.token.username=e)},e.token={access_token:"_It_RKcC9CUuiX4PdwbaLdMO9AQYfjZjTHy-YMDVkOPXEdMpbznCnLpWRgqYsL8II7Yqs2OTRr8VwMEI60Td8T8i4xgVcsnQgkv-7e1IxuV-0jAzK94fScw6Blt4T4t7RTGm13zpCqeF0yVTk_9PXGJ-41OHwBtI_cRYemQ1OvEO3l3CuJGOT8cqn_sZbM3Ut2Dr6MYrgvGLw8h3wNg6NkQskDX_9WJeW9Ur4UU2odk.",expires_in:null,persist:"true",ssl:"true",username:"mark_ba"},e}(),r=function(){function e(){}return e.getEnvironment=function(){return new Promise((function(t){t(e.environment)}))},e.setEnvironment=function(e){e&&e.length>0?this.environment=e:console.log("ba-reports error: setEnvironment with invalid args")},e.getPortalBaseUrl=function(){return t=this,n=function(){var t;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(r){switch(r.label){case 0:return[4,e.getEnvironment()];case 1:return t=r.sent(),console.log("env:",t),[2,"https://"+("dev"===t?"devext":"qa"===t?"qaext":"www")+".arcgis.com"]}}))},new((r=void 0)||(r=Promise))((function(e,o){function i(e){try{s(n.next(e))}catch(e){o(e)}}function a(e){try{s(n.throw(e))}catch(e){o(e)}}function s(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(i,a)}s((n=n.apply(t,[])).next())}));var t,r,n},e.isTrueString=function(e){return"true"===String(e).toLowerCase()},e.environment="prod",e}(),e=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},i=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},o=function(){function n(){}return n.executeSelf=function(){return new Promise((function(e,r){t.getToken().then((function(t){t===n._lastSelfToken?e(n._selfResult):n.executeRequest({taskPath:"/portals/self",data:{culture:"en-us"}}).then((function(r){n._lastSelfToken=t,n._selfResult=r,e(r)})).catch((function(e){n._lastSelfToken="",n._selfResult="",r(e)}))})).catch((function(e){return r(e)}))}))},n.getGeoenrichmentUrl=function(){return n.getHelperServiceUrl("geoenrichment")},n.getHelperServiceUrl=function(e){return new Promise((function(t,r){n.executeSelf().then((function(n){var o=n.helperServices;if(o){var i=o[e];if(i){var a=Array.isArray(i)?i[0].url:i.url;a?t(a):r(e+" helper service is not configured.")}else r(e+" helper service is not configured.")}else r("Helper services are not configured.")})).catch((function(e){return r(e)}))}))},n.getPortalResource=function(e){return n.executeRequest({taskPath:"/portals/self/resources/"+e})},n.getItemData=function(e){return n.executeRequest({taskPath:"/content/items/"+e+"/data"})},n.searchAllItems=function(e,t){var r=this;return new Promise((function(n,o){var i=[],a=r,s=function(e,t,r){a.searchItems(e,t,r).then((function(r){r.items.length&&(i=i.concat(r.items));var o=r.context;o.nextStart>0?s(e,t,o):n(i)}),(function(e){i&&i.length?n(i):o(e)}))};s(e,t,null)}))},n.searchItems=function(e,t,r){return new Promise((function(o,i){var a=t?JSON.parse(JSON.stringify(t)):{};if(r){a.q=t.q;var s=r.total,c=r.nextStart;s&&c&&(c>0&&s>=c?a.start=c:o({items:[],context:r})),r.sortField&&r.sortOrder&&(a.sortOrder=r.sortOrder,a.sortField=r.sortField)}else{var u=[];Object.getOwnPropertyNames(e).forEach((function(t){u.push(t+':"'+e[t]+'"')})),u.length&&(a.q=u.join(" AND "))}n.portalSearch(a).then((function(e){var t=e.results,r={query:e.query,total:e.total,nextStart:e.nextStart,sortOrder:null,sortField:null};a.sortOrder&&a.sortField&&(r.sortOrder=a.sortOrder,r.sortField=a.sortField),o({items:t,context:r})})).catch(i)}))},n.portalSearch=function(e){return n.executeRequest({taskPath:"/search",data:e})},n.getPortalUrl=function(){return e(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,r.getPortalBaseUrl()];case 1:return[2,e.sent()+"/sharing/rest"]}}))}))},n.executeRequest=function(r){var o=this;return new Promise((function(a,s){t.getToken().then((function(t){return e(o,void 0,void 0,(function(){var e,o,c;return i(this,(function(i){switch(i.label){case 0:for(o in r.data||(r.data={}),r.data.f||(r.data.f="json"),r.data.token=t,r.data.langCode="en-us",e=new FormData,r.data)e.append(o,r.data[o]);return Object.prototype.hasOwnProperty.call(r,"url")?(c=r.url,[3,3]):[3,1];case 1:return[4,n.getPortalUrl()];case 2:c=i.sent(),i.label=3;case 3:return r.taskPath&&(c+=r.taskPath),fetch(c,{method:"POST",body:e}).then((function(e){if(!e.ok)throw new Error("Network response ended with error.");return"bin"===r.data.f?e.blob():e.json()})).then((function(e){e.error?s(e.error):a(e)})).catch((function(e){console.error("Error:",e),s(e)})),[2]}}))}))})).catch((function(e){return s(e)}))}))},n}(),u=function(){function e(){}return e.getBusinessAnalystOrganizationalSettings=function(){return o.getPortalResource("BusinessAnalyst_Organizational_Settings.json")},e.getDisabledReports=function(){return new Promise((function(t){var r=function(e){t({}),console.log(e)};o.executeSelf().then((function(n){var o=n.user.roleId||n.user.role;e.getBusinessAnalystOrganizationalSettings().then((function(e){var r=e["userRoles.disabledAreas.reports"];t(r&&r[o]?r[o]:{})})).catch(r)})).catch(r)}))},e.getUserGalleryInfographicReportIds=function(){return new Promise((function(t,r){e._searchGalleryInfographicPreferencesItem().then((function(e){e?o.getItemData(e.id).then((function(e){t(e&&e.data&&e.data.myGalleryInfographicReportIds)})).catch((function(e){return r(e)})):r(null)})).catch((function(e){return r(e)}))}))},e._searchGalleryInfographicPreferencesItem=function(){return e._searchUserItem("esriFavoriteReportTemplates")},e._searchUserItem=function(e){return new Promise((function(t,r){o.executeSelf().then((function(n){o.searchItems({type:"Web Mapping Application",typekeywords:e,owner:n.user.username},{num:1},void 0).then((function(e){t(e&&e.length&&e[0])})).catch((function(e){return r(e)}))})).catch((function(e){return r(e)}))}))},e}(),c=function(){function e(){}return e._condenseResultsArray=function(e){return e.map((function(e){return{id:e.id,title:e.title}}))},e.getDefaultHierarchy=function(e){return new Promise((function(t,r){a.execute({taskPath:"/Geoenrichment/Countries/"+e}).then((function(e){for(var n,o=0;o<e.countries[0].hierarchies.length;o++){var i=e.countries[0].hierarchies[o];if(i.default){n=i.ID.toString();break}}n?t(n):r()})).catch(r)}))},e.getReportTemplates=function(t,r){return void 0===r&&(r=!1),new Promise((function(n,i){var a={ge:void 0,shared:void 0,user:void 0,favoriteIds:void 0};o.executeSelf().then((function(o){var s=o.user.username;Promise.allSettled([e._getSharedCustomReportTemplateItems(s),e._getMyCustomReportTemplateItems(s),e._getFavoriteReportsIds(s,t)]).then((function(o){a.ge=o[0].value?o[0].value:[],a.shared=e._createReportTemplateInfos(o[1]&&o[1].value?o[1].value:[],t),a.user=e._createReportTemplateInfos(o[2]&&o[2].value?o[2].value:[],t),a.favoriteIds=o[3]&&o[3].value?o[3].value:[],u.getDisabledReports().then((function(t){var o=a.ge,i=a.shared;null!=o&&(a.ge=o.filter((function(e){return!t[e.reportID]})),null!=i&&(a.shared=i.filter((function(e){return!t[e.reportID.itemid]})))),r||(a.ge=e._condenseResultsArray(a.ge),a.shared=e._condenseResultsArray(a.shared),a.user=e._condenseResultsArray(a.user),a.favoriteIds=e._condenseResultsArray(a.favoriteIds)),n(a)})).catch((function(e){return i(e)}))}))})).catch((function(e){return i(e)}))}))},e._getGEReportTemplates=function(t){return new Promise((function(r,n){var o=e._geReportTemplatesCache[t];o?r(o):a.execute({taskPath:"/GeoEnrichment/Reports/"+t}).then((function(n){var o=n.reports;e._geReportTemplatesCache[t]=o,r(o)})).catch(n)}))},e._getSharedCustomReportTemplateItems=function(t){return e._searchItems('type:"Report Template" (access:shared OR access:org) typekeywords:(esriWebReport NOT esriWebInfographicReport) NOT owner:'+t,e._removeInfographicTemplates)},e._getMyCustomReportTemplateItems=function(t){return e._searchItems('type:"Report Template" typekeywords:(esriWebReport NOT esriWebInfographicReport) owner:'+t,e._removeInfographicTemplates)},e._removeInfographicTemplates=function(e){return!r.isTrueString(e.properties.isGraphicReport)},e.getInfographicReportTemplateItems=function(t,r){var n=this;return void 0===r&&(r=!1),new Promise((function(i,a){var s={public:void 0,shared:void 0,user:void 0,favoriteIds:void 0};o.executeSelf().then((function(o){var c=o.user.username,l=o.user.orgId;Promise.allSettled([e._getEsriInfographicReportTemplateItems(),e._getSharedInfographicReportTemplateItems(c,l),e._getUserInfographicReportTemplateItems(c),e._getFavoriteReportsIds(c,t)]).then((function(o){return c=n,f=function(){var n,c,l,f,h,p,d;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(g){switch(g.label){case 0:return n=e._byCountry(t),s.public=o[0].value?o[0].value.filter(n):[],s.shared=o[1].value?o[1].value.filter(n):[],s.user=o[2].value?o[2].value.filter(n):[],s.favoriteIds=o[3].value?o[3].value:[],console.log(s),null!=(c=s.user)&&c.sort((function(e,t){return e.title.localeCompare(t.title)})),[4,e.getDefaultHierarchy(t)];case 1:return l=g.sent(),f=function(e){return e.properties.hierarchy===l},null!=(h=s.public)&&(s.public=h.filter(f)),null!=(p=s.shared)&&(s.shared=p.filter(f)),null!=(d=s.user)&&(s.user=d.filter(f)),console.log(s.public),u.getDisabledReports().then((function(t){var n=function(e){return!t[e.id]},o=s.public;null!=o&&(s.public=o.filter(n));var a=s.shared;null!=a&&(s.shared=a.filter(n)),r||(s.public=e._condenseResultsArray(s.public),s.shared=e._condenseResultsArray(s.shared),s.user=e._condenseResultsArray(s.user),s.favoriteIds=e._condenseResultsArray(s.favoriteIds)),i(s)})).catch((function(e){return a(e)})),[2]}}))},new((l=void 0)||(l=Promise))((function(e,t){function r(e){try{o(f.next(e))}catch(e){t(e)}}function n(e){try{o(f.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof l?o:new l((function(e){e(o)}))).then(r,n)}o((f=f.apply(c,[])).next())}));var c,l,f}))})).catch((function(e){return a(e)}))}))},e._byCountry=function(e){return function(t){var r=t&&t.properties&&t.properties.countries.toLowerCase();return r&&r.indexOf(e.toLowerCase())>=0}},e._getEsriInfographicReportTemplateItems=function(){return e._searchItems('type:"Report Template" typekeywords:esriWebStandardInfographicReport owner:esri_reports',e._infographicFilter)},e._getSharedInfographicReportTemplateItems=function(t,r){return e._searchItems('type:"Report Template" (access:shared OR access:org OR (access:public AND orgid:'+r+"))  typekeywords:esriWebInfographicReport  NOT owner:"+t,e._infographicFilter)},e._getUserInfographicReportTemplateItems=function(t){return new Promise((function(r,n){var o=e._searchItems('type:"Report Template" typekeywords:esriWebInfographicReport  owner:'+t,e._infographicFilter),i=e._getUserGalleryInfographicReportTemplateItems();Promise.allSettled([o,i]).then((function(e){r((e[0].value?e[0].value:[]).concat(e[1].value?e[1].value:[]))}),(function(e){n(e)}))}))},e._getFavoriteReportsIds=function(t,r){return new Promise((function(n,i){e._searchItems('type:"Web Mapping Application" typekeywords:"BAUserData.FavoriteReports" owner:'+t,null).then((function(e){var t=e&&e[0];t?o.getItemData(t.id).then((function(e){if(e){var t=e.data&&e.data["favorites"+r];if(t){var o=t.map((function(e){return e.reportID}));n(o)}else n([])}else n([])})).catch((function(e){return i(e)})):n([])})).catch((function(e){return i(e)}))}))},e._getUserGalleryInfographicReportTemplateItems=function(){return new Promise((function(t,r){u.getUserGalleryInfographicReportIds().then((function(n){if(n&&n.length){var o=n.map((function(e){return"id:"+e})).join(" OR ");e._searchItems(o,e._infographicFilter).then((function(e){t(e)})).catch((function(e){return r(e)}))}else t([])})).catch((function(e){return r(e)}))}))},e._searchItems=function(e,t){return new Promise((function(r,n){o.searchAllItems({},{start:1,num:1e3,sortField:"title",sortOrder:"asc",q:e}).then((function(e){var n=t?e.filter(t):e;r(n)})).catch((function(e){return n(e)}))}))},e._createReportTemplateInfos=function(e,t){var n=[];return e.forEach((function(e){var o=e.properties;if(o){var i=o.countries;if(r.isTrueString(o.isComparisonReport))return;if(i&&-1!==i.indexOf(t)){var a={reportID:{itemid:e.id},formats:o.formats&&o.formats.split(","),headers:[],metadata:{author:o.author,categories:[],countries:i,coverage:o.coverage,hierarchy:o.hierarchy,keywords:o.keywords,owner:e.owner,title:e.title,type:o.type}};n.push(a)}}})),n},e._infographicFilter=function(e){var t=e.properties;return r.isTrueString(t.isGraphicReport)&&!r.isTrueString(t.isSingleInfographic)&&!r.isTrueString(t.isHidden)&&!r.isTrueString(t.isBlank)},e._geReportTemplatesCache={},e}(),f=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},s=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},a=function(){function e(){}return e.getInfographicTemplatesList=function(e,t){return void 0===t&&(t=!1),f(this,void 0,void 0,(function(){return s(this,(function(r){switch(r.label){case 0:return[4,c.getInfographicReportTemplateItems(e||"US",t)];case 1:return[2,r.sent()]}}))}))},e.getClassicReportsTemplatesList=function(e,t){return void 0===t&&(t=!1),f(this,void 0,void 0,(function(){return s(this,(function(r){switch(r.label){case 0:return[4,c.getReportTemplates(e||"US",t)];case 1:return[2,r.sent()]}}))}))},e.getDefaultHierarchy=function(e){return f(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,c.getDefaultHierarchy(e)];case 1:return[2,t.sent()]}}))}))},e.execute=function(e){return new Promise((function(t,r){o.getGeoenrichmentUrl().then((function(n){var i=e?JSON.parse(JSON.stringify(e)):{};i.data||(i.data={}),i.data.forStorage=!1,o.executeRequest({url:n+i.taskPath,data:i.data}).then(t).catch(r)})).catch(r)}))},e.createReport=function(e){return new Promise((function(t,r){o.getGeoenrichmentUrl().then((function(n){var i=n.toString()+"/GeoEnrichment/CreateReport";o.executeRequest({url:i,data:e}).then(t).catch(r)})).catch(r)}))},e.enrich=function(e){var t=this;return new Promise((function(n,i){return f(t,void 0,void 0,(function(){var t,a;return s(this,(function(s){switch(s.label){case 0:return[4,r.getPortalBaseUrl()];case 1:return t=s.sent(),a="https://www.arcgis.com"===t?"https://geoenrich.arcgis.com/arcgis/rest/services/World/geoenrichmentserver/Geoenrichment/Enrich":"https://qaext.arcgis.com"===t?"https://geoenrichqa.arcgis.com/arcgis/rest/services/World/geoenrichmentserver/Geoenrichment/Enrich":"https://devext.arcgis.com"===t?"https://geoenrichdev.arcgis.com/arcgis/rest/services/World/geoenrichmentserver/Geoenrichment/Enrich":"https://geoenrich.arcgis.com/arcgis/rest/services/World/geoenrichmentserver/Geoenrichment/Enrich",console.log("enrichURL",a),e.forStorage=!1,o.executeRequest({url:a,data:e}).then((function(e){var t=e&&e.results&&e.results.length&&e.results[0],r=t&&t.value&&t.value.FeatureSet&&t.value.FeatureSet.length&&t.value.FeatureSet[0];if(r.features&&r.features.length)n(e);else{var o=e&&e.messages&&e.messages.length&&e.messages[0].description;o||(o="getfacts-no-data"),i(o)}}),(function(e){i(e)})),[2]}}))}))}))},e}(),l=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},h=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function v(e,r){try{return null!=e&&e.length>0?null!=r&&r.length>0?(t.setToken(e,r),"ok"):"invalid token":"invalid username"}catch(e){return e}}function d(e){try{return null!=e&&e.length>0?(r.setEnvironment(e),"ok"):"invalid environment"}catch(e){return e}}function w(e,t){return void 0===t&&(t=!1),l(this,void 0,void 0,(function(){return h(this,(function(r){switch(r.label){case 0:return[4,a.getInfographicTemplatesList(e,t)];case 1:return[2,r.sent()]}}))}))}function p(e,t){return void 0===t&&(t=!1),l(this,void 0,void 0,(function(){return h(this,(function(r){switch(r.label){case 0:return[4,a.getClassicReportsTemplatesList(e,t)];case 1:return[2,r.sent()]}}))}))}export{n as A,a as G,r as S,t as T,d as a,p as b,w as g,v as s};